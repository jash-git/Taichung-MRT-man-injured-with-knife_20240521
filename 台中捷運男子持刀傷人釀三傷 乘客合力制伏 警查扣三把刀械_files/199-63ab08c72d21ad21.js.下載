(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{60879:function(t,n,i){"use strict";let r;i.r(n),i.d(n,{Ga:function(){return te},Gtm:function(){return ne},I13nLink:function(){return v},I13nLinkWithImpression:function(){return ee},I13nProvider:function(){return Z},Rapid:function(){return T},useClickTracker:function(){return V},useImpressionTracker:function(){return D},usePageViewTracker:function(){return j},withI13nTracker:function(){return X}});var o=i(2784);let l="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var a={randomUUID:l};let s=new Uint8Array(16),u=[];for(let t=0;t<256;++t)u.push((t+256).toString(16).slice(1));var esm_browser_v4=function(t,n,i){if(a.randomUUID&&!n&&!t)return a.randomUUID();t=t||{};let o=t.random||(t.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){i=i||0;for(let t=0;t<16;++t)n[i+t]=o[t];return n}return function(t,n=0){return u[t[n+0]]+u[t[n+1]]+u[t[n+2]]+u[t[n+3]]+"-"+u[t[n+4]]+u[t[n+5]]+"-"+u[t[n+6]]+u[t[n+7]]+"-"+u[t[n+8]]+u[t[n+9]]+"-"+u[t[n+10]]+u[t[n+11]]+u[t[n+12]]+u[t[n+13]]+u[t[n+14]]+u[t[n+15]]}(o)},m=Object.defineProperty,M=(t,n,i)=>n in t?m(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,c=(t,n,i)=>(M(t,"symbol"!=typeof n?n+"":n,i),i),f="/sd/workspace/src/git.ouryahoo.com/EC-Web/ec-use-i13n/src/i13nHooks.tsx";let p="u">typeof window,y=(0,o.createContext)({analyzers:[]}),A=t=>{let n=(0,o.useRef)(t);return(0,o.useEffect)(()=>{n.current=t},[t]),(0,o.useCallback)((...t)=>{var i;return null==(i=n.current)?void 0:i.call(n,...t)},[])},j=()=>{let{analyzers:t,rootModel:n}=(0,o.useContext)(y),i=A(n=>{t.forEach(t=>t.collectPageView(n))});return{rootModel:n,analyzers:t,trackPageView:i}},V=()=>{let{analyzers:t,rootModel:n}=(0,o.useContext)(y),i=A((n,i,r)=>{t.forEach(t=>t.collectClick(n,i,r))});return{rootModel:n,analyzers:t,trackClick:i}},D=()=>{let{analyzers:t,rootModel:n}=(0,o.useContext)(y),i=(0,o.useRef)({}),r=(0,o.useRef)(null),l=A((n,o,l)=>{let a=l||esm_browser_v4();if(!n)return;let s=(null===r.current&&p&&"IntersectionObserver"in window&&(r.current=new IntersectionObserver((n,r)=>{n.forEach(n=>{if(n.isIntersecting){let{target:o}=n,l=i.current[o.getAttribute("data-imp-key")];l&&t.forEach(t=>t.collectImpression(l)),r.unobserve(n.target)}})})),r.current);s?n.getAttribute("data-imp-key")||(n.setAttribute("data-imp-key",a),i.current[a]=o,s.observe(n)):console.warn("IntersectionObserver API is not implemented by this browser, add intersection-observer polyfill if you want to support legacy browser")});return p?{rootModel:n,analyzers:t,addToTrackList:l}:{}},X=t=>{let e=n=>{let{trackClick:i}=V(),{trackPageView:r}=j(),{addToTrackList:l}=D();return o.createElement(t,{...n,trackClick:i,trackPageView:r,trackImpression:l,__self:void 0,__source:{fileName:f,lineNumber:145,columnNumber:7}})},n=t.displayName||t.name||"Component";return e.displayName=`WithI13nTracker(${n})`,e},Z=({analyzers:t=[],rootModel:n={},children:i})=>o.createElement(y.Provider,{value:{analyzers:t,rootModel:n},__self:void 0,__source:{fileName:f,lineNumber:170,columnNumber:5}},i),v=(0,o.forwardRef)(({i13nModel:t,children:n,onClick:i,...r},l)=>{let a=(0,o.useRef)(0),{trackClick:s,analyzers:u}=V();return o.createElement("a",{ref:l,...r,onClick:n=>{if(0===u.length||!t||a.current++)return null==i?void 0:i(n);n.preventDefault(),n.stopPropagation();let r=!1;s(t,()=>{var t;r||(null==(t=n.target)||t.dispatchEvent(new MouseEvent(n.type,n.nativeEvent)),a.current=0,r=!0)},n.currentTarget)},__self:void 0,__source:{fileName:f,lineNumber:217,columnNumber:7}},n)});v.displayName="I13nLink";let ee=({uuid:t,impression:n,...i})=>{let r=(0,o.useRef)(),{addToTrackList:l}=D();return(0,o.useEffect)(()=>{r.current&&l(r.current,n,t)},[l,n,t]),o.createElement(v,{ref:r,...i,__self:void 0,__source:{fileName:f,lineNumber:244,columnNumber:10}})},k={RAPID:"rapidTracking",GA:"gaTracking",GTM:"gtmDataLayer"},z=t=>"object"==typeof t&&null!==t?Object.keys(t).reduce((n,i)=>(Object.values(k).includes(i)||(n[i]=t[i]),n),{}):t,H=(t,n)=>n?Object.keys(t).reduce((i,r)=>{let o=n[r];return o&&(Array.isArray(o)?o.forEach(n=>{i[n]=t[r]}):i[o]=t[r]),i},{}):z(t),h=({data:t,trackingKey:n,mapping:i}={})=>{if(t)return null===t[n]?void 0:t[n]?t[n]:H(t,i)},w=t=>Object.values(k).some(n=>t[n]),b=class g{constructor(t,n){if(c(this,"isLinkViewWaitingToFire",!1),c(this,"rapidInstance"),c(this,"mapping"),c(this,"linkData",[]),c(this,"URL_PATTERN",/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),c(this,"ITC_URL_CHANGED",0),c(this,"ITC_NO_URL_CHANGED",1),c(this,"customOptions"),"u">typeof window)try{this.mapping=n;let{keys:i}=t;this.customOptions=t,this.rapidInstance=new window.YAHOO.i13n.Rapid({pageview_on_init:!1,...t,...i&&{keys:h({data:i,mapping:n,trackingKey:k.RAPID})}})}catch{console.error("You have to make sure that Rapid.js is ready to use before initializing Rapid analyzer")}}getDomain(t){let n=t&&t.match(this.URL_PATTERN);return n?n[1]:""}getUri(t){let n=t&&t.pathname;return n?n.substring(0,300):""}invokeFunctionSafely(t,...n){t&&"function"==typeof t&&t(...n)}addToLinkData(t){let n=this.linkData.find(n=>n.sec===t.sec);n?n._links.push(...t._links):this.linkData.push(t)}collectPageView(t){let n=h({data:t,mapping:this.mapping,trackingKey:k.RAPID});w(t)&&!n||this.rapidInstance&&!1!==this.customOptions.pageview_on_init&&this.invokeFunctionSafely(this.rapidInstance.beaconPageview,n)}collectClick(t,n=null,i){let{sec:r,slk:o,_p:l,eventName:a,options:s,...u}=t,m=!1,d=()=>{m||(m=!0,this.invokeFunctionSafely(n))},f=h({data:u,mapping:this.mapping,trackingKey:k.RAPID});if(!(w(t)&&!f)){if(i&&"function"==typeof i.getAttribute){let t=i.getAttribute("href")||"";f.tar=f.tar||this.getDomain(t),f.tar_uri=f.tar_uri||this.getUri(i),f.itc=f.itc||(t?this.ITC_URL_CHANGED:this.ITC_NO_URL_CHANGED)}this.rapidInstance&&this.invokeFunctionSafely(this.rapidInstance.beaconClick,r,o,l,f,a,d,s),setTimeout(d,1e3)}}collectImpression(t){let{sec:n,callback:i,...r}=t,o=h({data:r,mapping:this.mapping,trackingKey:k.RAPID});if(w(t)&&!o)return;let l=(null==o?void 0:o.sec)||n;if(this.addToLinkData({sec:l,_links:[{sec:l,...o}]}),this.isLinkViewWaitingToFire){this.invokeFunctionSafely(i);return}this.isLinkViewWaitingToFire=!0,setTimeout(()=>{let t=this.rapidInstance.beaconLinkViewsWithDOM||this.rapidInstance.beaconLinkViews;t?(t.call(this.rapidInstance,this.linkData,g.LINKVIEW_TYPE_CONTENT_MODIFICATION,null,()=>{this.invokeFunctionSafely(i)}),this.linkData=[],this.isLinkViewWaitingToFire=!1):console.warn("There's no beaconLinkViews support, please update to latest Rapid library.")},g.LINKVIEW_BATCH_BUFFER)}};c(b,"LINKVIEW_BATCH_BUFFER",1e3),c(b,"LINKVIEW_TYPE_CONTENT_MODIFICATION",2);let T=b;let te=class te{constructor(t,n){if(c(this,"gtag"),c(this,"mapping"),"u">typeof window)try{let{dataLayerName:i="dataLayer",trackingId:r,setup:o,...l}=t;this.mapping=n,window[i]=window[i]||[],this.gtag=function(){window[i].push(arguments)},this.gtag("js",new Date),o&&this.gtag("set",h({data:o,mapping:n,trackingKey:k.GA})),this.gtag("config",r,{send_page_view:!1,...l})}catch{console.error("You have to make sure that Ga.js is ready to use before initializing Ga analyzer")}}collectPageView(t){let n=h({data:t,mapping:this.mapping,trackingKey:k.GA});w(t)&&!n||this.gtag("event","page_view",n)}sendEvent(t,n){let{action:i,event_category:r,event_label:o,value:l,...a}=t,s=h({data:a,mapping:this.mapping,trackingKey:k.GA});w(t)&&!s||this.gtag("event",(null==s?void 0:s.action)||i,{event_category:r,event_label:o,value:l,...s,...n&&{event_callback:n}})}collectClick(t,n){this.sendEvent(t,n)}collectImpression(t){this.sendEvent(t)}};let x=(t,n,i="dataLayer")=>{var r,o,l,a,s;let u=!!window[i];window[i]=window[i]||[],n&&(Array.isArray(n)?window[i].push(...n):window[i].push(n)),u||(r=window,o=document,l="script",r[i]=r[i]||[],r[i].push({"gtm.start":new Date().getTime(),event:"gtm.js"}),a=o.getElementsByTagName(l)[0],(s=o.createElement(l)).async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+t+("dataLayer"!=i?"&l="+i:""),a.parentNode.insertBefore(s,a))},E="dataLayer";let ne=class ne{constructor(t){if(c(this,"pageViewEventName"),c(this,"eventTimeout"),c(this,"dataLayerName"),"u">typeof window){let{containerId:n="",initDataLayer:i={},pageViewEventName:r="ec_page_view",dataLayerName:o=E,eventTimeout:l=1e3}=t||{};n?(x(n,i,o),this.dataLayerName=o,this.pageViewEventName=r,this.eventTimeout=l):console.log("containerId is required for gtm")}}pushDataLayer(t,n){if(window[this.dataLayerName]||console.log("Try to execute command but GTM script is not correctly inited"),t){if(Array.isArray(t)){let i=t.map(t=>({...t,...n&&{eventCallback:n},...n&&{eventTimeout:this.eventTimeout}}));i.some(t=>t.ecommerce)&&window[E].push({ecommerce:null}),window[this.dataLayerName].push(...i)}else t.ecommerce&&window[E].push({ecommerce:null}),window[this.dataLayerName].push({...t,...n&&{eventCallback:n},...n&&{eventTimeout:this.eventTimeout}})}n&&n()}collectPageView(t,n){let i;let r=t[k.GTM];i=Array.isArray(r)?[...r,{event:this.pageViewEventName}]:{event:this.pageViewEventName,...r},this.pushDataLayer(i,n)}collectClick(t,n){let i=t[k.GTM];this.pushDataLayer(i,n)}collectImpression(t){let n=t[k.GTM];this.pushDataLayer(n)}}},30616:function(t,n,i){/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */let r=i(98558);function join(t,n,i){return"function"==typeof i.join?i.join(t):t[0]+n+t[1]}function isValid(t,n,i){return"function"!=typeof i.isValid||i.isValid(t,n)}function isValidObject(t){return r(t)||Array.isArray(t)||"function"==typeof t}t.exports=function(t,n,i){var o,l;if(r(i)||(i={default:i}),!isValidObject(t))return void 0!==i.default?i.default:t;"number"==typeof n&&(n=String(n));let a=Array.isArray(n),s="string"==typeof n,u=i.separator||".",m=i.joinChar||("string"==typeof u?u:".");if(!s&&!a)return t;if(s&&n in t)return isValid(n,t,i)?t[n]:i.default;let f=a?n:(o=n,"function"==typeof(l=i).split?l.split(o):o.split(u)),p=f.length,y=0;do{let n=f[y];for("number"==typeof n&&(n=String(n));n&&"\\"===n.slice(-1);)n=join([n.slice(0,-1),f[++y]||""],m,i);if(n in t){if(!isValid(n,t,i))return i.default;t=t[n]}else{let r=!1,o=y+1;for(;o<p;)if(r=(n=join([n,f[o++]],m,i))in t){if(!isValid(n,t,i))return i.default;t=t[n],y=o-1;break}if(!r)return i.default}}while(++y<p&&isValidObject(t));return y===p?t:i.default}},98558:function(t){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},99629:function(t,n){"use strict";function getElementOffset(t){let n=0,i=0,r=t;do n+=r.offsetTop||0,i+=r.offsetLeft||0,r=r.offsetParent;while(r);return{top:n,left:i}}let ScrollDomElement=class ScrollDomElement{constructor(t){this.element=t}getHorizontalScroll(){return this.element.scrollLeft}getVerticalScroll(){return this.element.scrollTop}getMaxHorizontalScroll(){return this.element.scrollWidth-this.element.clientWidth}getMaxVerticalScroll(){return this.element.scrollHeight-this.element.clientHeight}getHorizontalElementScrollOffset(t,n){return getElementOffset(t).left-getElementOffset(n).left}getVerticalElementScrollOffset(t,n){return getElementOffset(t).top-getElementOffset(n).top}scrollTo(t,n){this.element.scrollLeft=t,this.element.scrollTop=n}};let ScrollWindow=class ScrollWindow{constructor(){this.element=window}getHorizontalScroll(){return window.scrollX||document.documentElement.scrollLeft}getVerticalScroll(){return window.scrollY||document.documentElement.scrollTop}getMaxHorizontalScroll(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth)-window.innerWidth}getMaxVerticalScroll(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight}getHorizontalElementScrollOffset(t){let n=window.scrollX||document.documentElement.scrollLeft;return n+t.getBoundingClientRect().left}getVerticalElementScrollOffset(t){let n=window.scrollY||document.documentElement.scrollTop;return n+t.getBoundingClientRect().top}scrollTo(t,n){window.scrollTo(t,n)}};let i={elements:[],cancelMethods:[],add:(t,n)=>{i.elements.push(t),i.cancelMethods.push(n)},remove:(t,n)=>{let r=i.elements.indexOf(t);r>-1&&(n&&i.cancelMethods[r](),i.elements.splice(r,1),i.cancelMethods.splice(r,1))}},r="undefined"!=typeof window,o={cancelOnUserAction:!0,easing:t=>--t*t*t+1,elementToScroll:r?window:null,horizontalOffset:0,maxDuration:3e3,minDuration:250,speed:500,verticalOffset:0};n.Z=function(t,n={}){var l,a,s,u;return l=this,a=void 0,s=void 0,u=function*(){let l,a;if(!r)return new Promise(t=>{t(!1)});if(!window.Promise)throw"Browser doesn't support Promises, and animated-scroll-to depends on it, please provide a polyfill.";let s=Object.assign(Object.assign({},o),n),u=s.elementToScroll===window,m=!!s.elementToScroll.nodeName;if(!u&&!m)throw"Element to scroll needs to be either window or DOM element.";let f=u?document.documentElement:s.elementToScroll,p=getComputedStyle(f).getPropertyValue("scroll-behavior");"smooth"===p&&console.warn(`${f.tagName} has "scroll-behavior: smooth" which can mess up with animated-scroll-to's animations`);let y=u?new ScrollWindow:new ScrollDomElement(s.elementToScroll);if(t instanceof Element){if(m&&(!s.elementToScroll.contains(t)||s.elementToScroll.isSameNode(t)))throw"options.elementToScroll has to be a parent of scrollToElement";l=y.getHorizontalElementScrollOffset(t,s.elementToScroll),a=y.getVerticalElementScrollOffset(t,s.elementToScroll)}else if("number"==typeof t)l=y.getHorizontalScroll(),a=t;else if(Array.isArray(t)&&2===t.length)l=null===t[0]?y.getHorizontalScroll():t[0],a=null===t[1]?y.getVerticalScroll():t[1];else throw"Wrong function signature. Check documentation.\nAvailable method signatures are:\n  animateScrollTo(y:number, options)\n  animateScrollTo([x:number | null, y:number | null], options)\n  animateScrollTo(scrollToElement:Element, options)";l+=s.horizontalOffset,a+=s.verticalOffset;let v=y.getMaxHorizontalScroll(),k=y.getHorizontalScroll();l>v&&(l=v);let b=l-k,T=y.getMaxVerticalScroll(),E=y.getVerticalScroll();a>T&&(a=T);let _=a-E,I=Math.abs(Math.round(b/1e3*s.speed)),N=Math.abs(Math.round(_/1e3*s.speed)),L=I>N?I:N;return L<s.minDuration?L=s.minDuration:L>s.maxDuration&&(L=s.maxDuration),new Promise((t,n)=>{let r;0===b&&0===_&&t(!0),i.remove(y.element,!0);let cancelAnimation=()=>{removeListeners(),cancelAnimationFrame(r),t(!1)};i.add(y.element,cancelAnimation);let o=s.cancelOnUserAction?cancelAnimation:t=>t.preventDefault(),u=s.cancelOnUserAction?{passive:!0}:{passive:!1},m=["wheel","touchstart","keydown","mousedown"],removeListeners=()=>{m.forEach(t=>{y.element.removeEventListener(t,o,u)})};m.forEach(t=>{y.element.addEventListener(t,o,u)});let f=Date.now(),step=()=>{var n=Date.now()-f,o=n/L;let u=Math.round(k+b*s.easing(o)),m=Math.round(E+_*s.easing(o));n<L&&(u!==l||m!==a)?(y.scrollTo(u,m),r=requestAnimationFrame(step)):(y.scrollTo(l,a),cancelAnimationFrame(r),removeListeners(),i.remove(y.element,!1),t(!0))};r=requestAnimationFrame(step)})},new(s||(s=Promise))(function(t,n){function fulfilled(t){try{step(u.next(t))}catch(t){n(t)}}function rejected(t){try{step(u.throw(t))}catch(t){n(t)}}function step(n){var i;n.done?t(n.value):((i=n.value)instanceof s?i:new s(function(t){t(i)})).then(fulfilled,rejected)}step((u=u.apply(l,a||[])).next())})}}}]);