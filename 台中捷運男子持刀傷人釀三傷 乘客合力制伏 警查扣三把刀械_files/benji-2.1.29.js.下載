!function(){"use strict";const e="undefined"!=typeof window?window:{benji:{},googletag:{cmd:[]},pbjs:{que:[]},YAHOO:{}},t=["localhost","aol.com","aol.co.uk","aol.de","autoblog.com","cricket.yahoo.sportz.io","engadget.com","yahoo.com","yahoo.com.hk","yahoo.com.tw"].map((e=>`([\\.\\w\\-]+\\.)?${e.replace(/\./g,"\\.")}`)),i=["cricket.yahoo.net"].map((e=>e.replace(/\./g,"\\."))),n=new RegExp(`^https?://(${t.concat(i).join("|")})(:\\d+)?$`);const s="initialize",o="initialize_ack",r="initialize_i13n",a="intersect",c="render",d="resize_ad",l="start_ads",h="tab_focus",u="block",g="index",p=!0,f="DOMContentLoaded",m="bucket",b="cobrand",y="commerceArticleType",_="extractedKeyWords",v="hashtag",E="lang",I="0",S="testid",C="ncid",A="fr",w="pg_name",T="type",k="benji-premium-ad",R="abp",P="auto",B="VERSION";var L,O;!function(e){e.DynamicAllocation="Dynamic Allocation",e.DirectSold="Direct Sold"}(L||(L={})),function(e){e.AdTech="Ad Tech",e.House="House",e.YahooPrebid="YahooPrebid",e.AdX="AdX",e.Unknown="Unknown"}(O||(O={}));const j={FeaturedBroker:{size:[758,198]},FeaturedBrokerMweb:{size:[343,310]},Horizon:{breakpoints:{"0,480":[16,9],"1331,Infinity":[16,3],"481,1330":[40,9]},size:[3,1]},Lighthouse:{breakpoints:{"0,Infinity":[9,16]},size:[2,2]},Spotlight:{breakpoints:{"0,480":[8,9]},size:[3,2]},TradeNow:{size:[280,55]}},x={"[1440,1024]":"Login","[2,2]":"Lighthouse","[280,55]":"TradeNow","[3,1]":"Horizon","[3,2]":"Spotlight","[343,310]":"FeaturedBrokerMweb","[758,198]":"FeaturedBroker"},z="https://securepubads.g.doubleclick.net/tag/js/gpt.js",M="https://pagead2.googlesyndication.com/tag/js/gpt.js",D="1",F=`https://s.yimg.com/aaq/prebid/prebid-${B}.js`,N="https://opus.analytics.yahoo.com/tag/opus.js",U="TABOOLA_PUBLISHERID_MACRO",G=`https://cdn.taboola.com/libtrc/${U}/loader.js`,q="script",V="f10d509c-script",$="gpt-tag",W="yPrebid-script",Q="opus-script",H="text/javascript",Y=1,K="none",J={adsFinishParse:"ads:finish:parse",caasArticle:"caas:article:init",caasSidekick:"caas:sidekick:init",darlaComplete:"darla:complete",waferFetch:"fetch:success",waferReady:"wafer:ready"},X=["enableCtrldSRABatch","headerBidding","enableRefreshDebounce","enableYahooPrebid"],Z={impressionViewable:"impressionViewable",slotOnload:"slotOnload",slotRenderEnded:"slotRenderEnded",slotRequested:"slotRequested",slotResponseReceived:"slotResponseReceived",slotVisibilityChanged:"slotVisibilityChanged"},ee={click:"click",render:"render"},te="auctionInit",ie="bidWon",ne={e0:"-e0",e1:"-e1",HB_UI_MOD:"hb_uid_mod",LI_OFF:"liveIntentId_off",LI_ON:"liveIntentId_on",LI_REPORTING_KEY:"li-module-enabled",LIVEINTENT_ID:"liveIntentId",NO_ID_SOLUTION:"no_id_solution",t0:"t0",t1:"t1",wa:"-wa",ws:"-ws"},se={limitedAds:!0,restrictDataProcessing:!0},oe={nonPersonalizedAds:!0},re={AdTech:[5307966191],AdX:[5285812218],House:[5286843762,5335252228,5335488228],YahooPrebid:[5462617191]},ae="benji:render",ce={benjiMounted:"benji:mounted",benjiReady:"benji:ready",tabFocus:"tabFocus",userAction:"userAction"},de={aol:"aol",att:"att",bizmail:"bizmail",frontier:"frontier",ftr:"frontier",rogers:"rogers",sbc:"att",smallbiz:"bizmail",verizon:"verizon",ycorp:"ycorp"},le=[m,b,y,_,E,"pd","lu","site","ver",v,"pct","pt","spaceid","lmsid","pstaid","mchnm","device","region","url","colo",w,"ncid","fr","frtype","axid"],he=["axid","colo","device","fr","frtype","lang","lmsid","lu","ncid","pct","pd",w,"pstaid","pt","region","site","ver"];var ue,ge;!function(e){e.att="att",e.attarticles="attarticles",e.aol="aol",e.autoblog="autoblog",e.autos="autos",e.engadget="engadget",e.entertainment="entertainment",e.finance="finance",e.fp="fp",e.frontpage="frontpage",e.gma="gma",e.intheknow="intheknow",e.lifestyle="lifestyle",e.money="money",e.movies="movies",e.music="music",e.news="news",e.rivals="rivals",e.sports="sports",e.style="style",e.tech="tech",e.techcrunch="techcrunch"}(ue||(ue={})),function(e){e.yahoo_mail="yahoo_mail",e.aol_webmail="aol_webmail",e.yahoo_rogers_mail="yahoo_rogers_mail",e.yahoo_bizmail_mail="yahoo_bizmail_mail",e.yahoo_att_mail="yahoo_att_mail",e.yahoo_frontier_mail="yahoo_frontier_mail",e.yahoo_verizon_mail="yahoo_verizon_mail",e.yahoo_login="yahoo_login",e.aol_login="aol_login"}(ge||(ge={}));const pe={...ge,...ue};var fe;!function(e){e.validSite="validSite"}(fe||(fe={}));const me="scriptId",be=`https://cadmus.script.ac/${me}/script.js`,ye=`https://s.yimg.com/aaq/f10d509c/${me}.js`,_e=!0,ve={[ue.aol]:"d3decajspqn3ue",[ue.autoblog]:"dy348zlstbwc5",[ue.autos]:"dy348zlstbwc5",[ue.engadget]:"dnt3mrnrwwk1",[ue.entertainment]:"d25harazjdfhwp",[ue.finance]:"d3lm64ch1c76ug",[ue.fp]:"d1ccw66oyq8ex2",[ue.frontpage]:"d1ccw66oyq8ex2",[ue.intheknow]:"dlt600z2q25zi",[ue.lifestyle]:"d12h8q03mwvikl",[ue.news]:"d1irmdsmbztlvx",[ue.rivals]:"d24s7e71jngyhb",[ue.sports]:"d2ftq0ol13ke77",[ue.style]:"d12h8q03mwvikl",[ue.techcrunch]:"d2wmmfwby4fr6i",[ge.yahoo_mail]:"d49ph8jz3wewg",[ge.yahoo_rogers_mail]:"d49ph8jz3wewg",[ge.yahoo_bizmail_mail]:"d49ph8jz3wewg",[ge.yahoo_att_mail]:"d49ph8jz3wewg",[ge.yahoo_frontier_mail]:"d49ph8jz3wewg",[ge.yahoo_verizon_mail]:"d49ph8jz3wewg",[ge.aol_webmail]:"d2uev3i365z5q8",[ge.yahoo_login]:"d1tqrs7vz94d9k",[ge.aol_login]:"d3axh5emg5ece0",default:"d9pmsg6mvxzz6",sandbox:"d22u7q1sccu6up"};var Ee;!function(e){e.aol_webtest="aol-webtest",e.validPublisherId="validPublisher",e.yahooweb_network="yahooweb-network",e.yahoo_aol_network="yahoo-aol-network"}(Ee||(Ee={}));const Ie={default:Ee.aol_webtest,[fe.validSite]:Ee.validPublisherId},Se={_rid:"yrid",lpstaid:"pstaid",partner:b},Ce=["att","frontier","rogers"],Ae=[S,C,A,T],we={bucket:"bucket",hashtag:"hashtag"},Te=["abk","axid",m,"partner","colo","device",E,"lu","region","site","ver","axidDv360","usercountry"],ke=[S,C,A,T,w];var Re;!function(e){e.content="content",e.home="home",e.minihome="minihome",e.utility="utility"}(Re||(Re={}));const Pe={[Re.content]:"article",[Re.home]:"homepage",[Re.minihome]:"category",[Re.utility]:"category"},Be={[ue.att]:"yhp",[ue.attarticles]:"ynews",[ue.autos]:"yautos",[ue.engadget]:"eng",[ue.entertainment]:"yent",[ue.finance]:"yfin",[ue.fp]:"yhp",[ue.gma]:"ynews",[ue.lifestyle]:"ylife",[ue.money]:"yfin",[ue.movies]:"ymov",[ue.music]:"yent",[ue.news]:"ynews",[ue.sports]:"ysports",[ue.style]:"ylife",[ue.tech]:"ytech"},Le=[y,_,"abk",v,"pct","pd",w,"pt","spaceid","lmsid","pstaid","lpstaid","mchnm","_rid","ticker","site","sck","url"],Oe={fetchMarginPercent:-1,mobileScaling:-1,renderMarginPercent:50},je="RENDER_SUCCEEDED",xe="RENDER_FAILED",ze="SLOT_REQUESTED",Me="GAM_AD_PAGE_LOAD_COMPLETE",De="SLOT_RESPONSE_RECEIVED",Fe="IMPRESSION_VIEWABLE",Ne="YPB_AD_STACK_RESOLVED",Ue={allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0};var Ge;!function(e){e.RESERVED="RESERVED",e.STANDARD="STANDARD"}(Ge||(Ge={}));const qe=["sellPersonalInformation","accountMatching","crossDeviceMapping"],Ve=["firstPartyAds"],$e=["firstPartyAds","sellPersonalInformation","accountMatching","crossDeviceMapping"],We=["firstPartyAds","sellPersonalInformation","accountMatching","crossDeviceMapping"],Qe=["firstPartyAds","sellPersonalInformation","accountMatching","crossDeviceMapping"],He={flush:!0},Ye={"ads-combo-col2Bottom":["LREC","MON"],col2Bottom:["LREC","MON"],mid_right_stack:["LREC","MON"],top_right:["300_250","300_600"],top_right_stack:["LREC","MON"]},Ke=1;function Je(t){const i=1e3*t,n=new CustomEvent(ce.tabFocus);let s=!0,o=null;e.addEventListener("focus",(()=>{!s&&o&&Date.now()-o>i&&e.dispatchEvent(n),s=!0})),e.addEventListener("blur",(()=>{s=!1,o=Date.now()}))}const Xe="default";function Ze(e,t,i){let n,s,o,r,a=-1;if("up"===i)for(n=e.top,s=e.bottom;n<=s;)a=Math.floor((n+s)/2),o=document.elementFromPoint(e.left,a),o===t?s=a-1:n=a+1;else if("down"===i)for(n=e.top,s=e.bottom;n<=s;)a=Math.floor((n+s)/2),o=document.elementFromPoint(e.left,a),o===t?n=a+1:s=a-1;else if("left"===i)for(n=e.left,s=e.right;n<=s;)a=Math.floor((n+s)/2),o=document.elementFromPoint(a,e.top),o===t?s=a-1:n=a+1;else for(n=e.left,s=e.right;n<=s;)a=Math.floor((n+s)/2),o=document.elementFromPoint(a,e.top),o===t?n=a+1:s=a-1;const c="up"===i||"left"===i?n:s;if(r="up"===i||"down"===i?document.elementFromPoint(e.left,c):document.elementFromPoint(c,e.top),r!==t)throw new Error("Element is completely obstructed "+i);return c}const et=e=>{if(!e)return!1;if(!((t=e).offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var t;const i=e.getBoundingClientRect(),n=window.innerWidth,s=window.innerHeight;if(i.top>s||i.bottom<0||i.right<0||i.left>n)return!1;const o=i.left<0?1:i.left+1,r=i.right>n?n-1:i.right-1,a=i.top>0?i.top+1:1,c=i.bottom>s?s-1:i.bottom-1,d=i.height*i.width;if((c-a)*(r-o)/d<.5)return!1;if(function(e,t){const{left:i,top:n,bottom:s,right:o}=e,r=[[i,n],[i,s],[o,n],[o,s]];for(const[e,i]of r){const n=document.elementFromPoint(e,i);if(n!==t&&!t.contains(n))return!0}return!1}({bottom:c,left:o,right:r,top:a},e)){const t=function(e,t,i){const{top:n,bottom:s,left:o,right:r}=e;try{const e=Ze({bottom:s,left:o,right:r,top:n},t,"up"),a=Ze({bottom:s,left:o,right:r,top:e},t,"down"),c=Ze({bottom:a,left:o,right:r,top:e},t,"left");return(a-e)*(Ze({bottom:a,left:c,right:r,top:e},t,"right")-c)/i}catch(e){return 0}}({bottom:c,left:o,right:r,top:a},e,d);return t>=.5}return!0};function tt(e){const t=window.document.getElementById(e);if(!t)return!1;const i=t?.querySelector("iframe");return i instanceof HTMLElement&&et(i)}function it(e,t){let i=[];return"string"==typeof t?i=e.store.getRegionAdComponents(t):t?.forEach((t=>{const n=t.split(":"),s=n[0],o=n[1],r=s?.length,a=2===n.length&&r&&o?.length>0;r&&void 0===o?i.push(e.store.getAdComponentById(s)):a&&i.push(e.store.getAdComponent(s,o))})),i}const nt=(e,t)=>{if(e&&e.includes("${")){const i="yhp",n=t.region,s=t.site,o=Be[s]||i;return e.replace(/\${REGION}/g,n.toLowerCase()).replace(/\${SITE}/g,o)}return e},st=(e,t)=>{let i,n;t||(t=4),n=e;for(let e=0;e<=t;e++)(n?.id&&"string"==typeof n.id&&(n.id.startsWith("sda-")||n.id.toLowerCase().startsWith("ad-")||n.id.toLowerCase().includes("-ad-")||n.id.toLowerCase().endsWith("-ad"))||n?.className?.startsWith("ad-"))&&(i=n),n=n&&n.parentElement;return i};function ot(e){if(e<0||e>100)return!1;return Math.floor(100*Math.random())<=e}function rt(e,t){const i={};return Object.keys(e).forEach((n=>{let s=e[n];t.includes(n)&&(s=Array.isArray(s)?s.map((e=>at(e))):at(s)),i[n]=s})),i}function at(e){let t=function(e){const t=/%[0-9A-Fa-f]{2}/g,i=e.replace(t,(e=>{try{return decodeURIComponent(e)}catch(t){return e}}));return i}(e);return[/(<([^>]+)>)/gm,/[\r\n]+/gm].forEach((e=>{t=t.replace(e,"")})),t}function ct(e){const t={};return Object.keys(e).forEach((i=>{void 0!==e[i]&&(t[i]=e[i])})),t}function dt(e){return!!(e&&"object"==typeof e&&e.hasOwnProperty("path")&&e.hasOwnProperty("size"))}function lt(e){return"placement"in e&&"mode"in e}function ht(e,t){if(e&&(i=e,Object.values(Ee).includes(i)))return e;{const e=void 0===t||!Ie.hasOwnProperty(t);return Ie[e?Xe:t]}var i}function ut(e,t){const i={};for(const n of he)"axid"===n&&t?i[n]=t:void 0!==e[n]&&""!==e[n]&&(i[n]=e[n]);return[Object.entries(i).map((e=>e.join(":"))).join(";"),"",e.spaceid,"","","",e.bucket,""].join("|")}function gt(e){return Object.values(ge).includes(e)}function pt(e){e.features?.enableYahooPrebid?ft(e):e.gptComponent.refresh([e.slot])}function ft(e){const t=e._getInfoForPrebid();e.ypbComponent.startPrebid(t,(()=>{e.gptComponent.refresh([e.slot])}))}function mt(e){return"string"==typeof e||Array.isArray(e)&&1===e.length&&"string"==typeof e[0]||Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function bt(e,t){const i=mt(e)?[e]:e,n=mt(t)?[t]:t,s=i.filter((e=>function(e,t){const i=JSON.stringify(t);return e.some((e=>JSON.stringify(e)===i))}(n,e)));return 1===s.length?s[0]:s}function yt(e,t){const i=t&&Ye[t];if(i){const t=i[Ke];return e.includes(t)}return!1}class _t{_googletag;features;refreshQueue;debounceTimer;constructor(){return this.features={},this.refreshQueue=[],this.debounceTimer=null,this._googletag={},this._googletag.cmd=[],void 0!==e&&(e.googletag?this._googletag=e.googletag:e.googletag=this._googletag),this}addCallbackToCmdQueue(e){this._googletag.cmd.push((()=>{e()}))}addEventListener(e,t){this._googletag.cmd.push((()=>{this._googletag.pubads().addEventListener(e,t)}))}create(...e){const[t,i]=e,{path:n,size:s,id:o,gptSetting:r}=t,{safeFrameConfig:a={}}=r||{};this._googletag.cmd.push((()=>{const e=this._googletag.defineSlot(n,s,o).setSafeFrameConfig(ct(a)).addService(this._googletag.pubads());i.slot=e}))}clearTargeting(e){this._googletag.cmd.push((()=>{0!==this._googletag.pubads().getTargeting(e).length&&this._googletag.pubads().clearTargeting(e)}))}destroy(e){this._googletag.cmd.push((()=>{this._googletag.destroySlots(e)}))}enableLazyLoad(e){this._googletag.cmd.push((()=>{const t={...Oe,...e};this._googletag.pubads().enableLazyLoad({fetchMarginPercent:t.fetchMarginPercent,mobileScaling:t.mobileScaling,renderMarginPercent:t.renderMarginPercent})}))}enableSizeMappingForSlot(e,t,i){this._googletag.cmd.push((()=>{const n=this._googletag.sizeMapping().addSize(t,i).build();e.slot?.defineSizeMapping(n)}))}refresh(e){this.features.enableRefreshDebounce?this._refreshWithDebounce(e):this._refresh(e)}render(...e){const[t,i]=e;this._googletag.cmd.push((()=>{const e=this.features.enableCtrldSRABatch&&this.features.headerBidding,n=this.features.enableYahooPrebid;(e||n)&&i&&i.slot?this.refresh([i.slot]):this._display(t)}))}setInitialPageUrl(t){this._googletag.cmd.push((()=>{const i=t||e.location.href;this._googletag.pubads().set("page_url",i)}))}setPrivacySettings(e){this._googletag.cmd.push((()=>{this._googletag.pubads().setPrivacySettings(e)}))}setPublisherProvidedId(e){this._googletag.cmd.push((()=>{this._googletag.pubads().setPublisherProvidedId(e)}))}setupService(...e){const[t,i]=e;this.features=t,this._googletag.cmd.push((()=>{const e=this.features.enableCtrldSRABatch&&this.features.headerBidding,t=this.features.enableYahooPrebid;(e||t)&&this._googletag.pubads().disableInitialLoad(),this._googletag.pubads().enableSingleRequest(),this._googletag.pubads().setForceSafeFrame(!0);const{safeFrameConfig:n={}}=i??{},s={...Ue,...ct(n)};this._googletag.pubads().setSafeFrameConfig(s),this._googletag.enableServices()}))}setTargeting(e){this._googletag.cmd.push((()=>{Object.keys(e).forEach((t=>{this._googletag.pubads().setTargeting(t,e[t])}))}))}setPageUrl(e){this._googletag.cmd.push((()=>{this._googletag.pubads().get("page_url")!==e&&this._googletag.pubads().set("page_url",e)}))}getTargetings(e,t){this._googletag.cmd.push((()=>{const i={};e.forEach((e=>{i[e]=this._googletag.pubads().getTargeting(e).join(",")})),t&&t(i)}))}setTargetingForSlot(e,t){this._googletag.cmd.push((()=>{Object.keys(t).forEach((i=>{const n=t[i];e.slot.setTargeting(i,n),void 0===e.kvs&&(e.kvs={}),e.kvs[i]=n}))}))}collapseEmptyDivs(e){this._googletag.cmd.push((()=>{this._googletag.pubads().collapseEmptyDivs(e)}))}_display(e){this._googletag.cmd.push((()=>{this._googletag.display(e)}))}_refresh(e){this._googletag.cmd.push((()=>{this._googletag.pubads().refresh(e)}))}_refreshWithDebounce(e){this.refreshQueue.push(...e),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this._refresh(this.refreshQueue),this.refreshQueue=[],this.debounceTimer=null}),20)}}const vt={};function Et(e,t){return t&&gt(t)?{gptEvent:e}:{}}const It="pointerup",St="scroll",Ct="pointermove",At="keydown";const wt=function(e,t){let i=0;return(...n)=>{const s=performance.now();if(!(s-i<t))return i=s,e(...n)}}((function(){const t=new CustomEvent(ce.userAction);e.dispatchEvent(t)}),200);const Tt={},kt={},Rt={},Pt={},Bt=[];function Lt(){this.gpt.addEventListener(Z.impressionViewable,(e=>{const t=e.slot.getSlotElementId(),i=kt[t];i&&i()})),this.gpt.addEventListener(Z.slotVisibilityChanged,(e=>{const t=e.slot.getSlotElementId(),i=Tt[t];i&&i(e.inViewPercentage)}))}function Ot(){[Ct,It,St,At].forEach((t=>{e.addEventListener(t,wt)})),e.addEventListener(ce.userAction,(()=>{for(;Bt.length>0;){const e=Bt.pop();e&&e()}}))}class jt{action;duration;timerId;elapsedTime;constructor(e){const{action:t,duration:i}=e;this.action=t,this.duration=i,this.timerId=void 0,this.elapsedTime=0,this._resetElapsedTime()}getElapsedTime(){return this.elapsedTime}pause(){this._cancelElapse()}resume(){void 0===this.timerId&&0!==this.elapsedTime&&this._elapse()}start(){this._resetElapsedTime(),this._cancelElapse(),this._elapse()}stop(){this._resetElapsedTime(),this._cancelElapse()}_resetElapsedTime(){this.elapsedTime=0}_elapse(){this.timerId=e.setInterval((()=>{this.elapsedTime+=1,this.elapsedTime>=this.duration&&(this.stop(),this.action())}),1e3)}_cancelElapse(){clearInterval(this.timerId),this.timerId=void 0}}function xt(){this.timer?.start()}function zt(e){this.viewPercentage=e;!0===this.eligibleForTimedRefresh&&this.isInView()&&this.refresh()}function Mt(){this.isInView()&&(this.timer?.start(),this.refresh())}class Dt{containerMap;eligibleForTimedRefresh;features;gptComponent;ypbComponent;gptSetting;path;size;id;isEdgeToEdge;kvs;metrics;ntsFallBack;refreshConfig;region;renderInfo;slot;stackGroup;stickyConfig;store;timer;useSecure;viewPercentage;customSizeConfig;disableRefresh;adBlockPlusEnabled;_fetchCount;_failureCount;_isIntersecting;_stackAdLastRefreshedAt;constructor(e){const{containerMap:t,disableRefresh:i,adBlockPlusEnabled:n,features:s,gptComponent:o,ypbComponent:r,gptSetting:a,kvs:c,ntsFallBack:d,refreshConfig:l,region:h,id:u,path:g,customSizeConfig:p,size:f,stackGroup:m,stickyConfig:b,store:y,useSecure:_}=e;if(this.containerMap=t,this.features=s,this.id=u,this.path=g,this.size=f,this.gptComponent=o,this.ypbComponent=r,this.metrics={},this.ntsFallBack=d,this.refreshConfig=l,this.region=h,this.renderInfo={},this.stackGroup=m,this.store=y,this.useSecure=_,this.viewPercentage=0,this._isIntersecting=!1,this._stackAdLastRefreshedAt=0,this.gptSetting=a,this._createSlot({gptSetting:this.gptSetting,id:u,path:g,size:f}),this._failureCount=0,this._fetchCount=0,c&&(this.kvs=c,this.gptComponent.setTargetingForSlot(this,c)),p&&(this.customSizeConfig=p),b&&(this.stickyConfig=b),!i&&this.refreshConfig?.duration&&!n){this.eligibleForTimedRefresh=!1;const e=()=>{this.isInView()?this.refreshConfig.requireUserAction?Bt.push((()=>this.refresh())):this.refresh():this.eligibleForTimedRefresh=!0},{duration:t}=this.refreshConfig;this.timer=new jt({action:e.bind(this),duration:t})}this.disableRefresh=i,this.adBlockPlusEnabled=n,this.store.add(h,u,this)}disableAllRefresh(){this.disableRefresh=!0}destroy(){this._unloadHandler(),this.timer&&(this.timer.stop(),delete this.timer),this.gptComponent.destroy([this.slot]),this.store.delete(this.region,this.id)}increaseFailureCount(){this._failureCount+=1}increaseFetchCount(){this._fetchCount+=1}isInitiallyLoaded(){return 1===this._fetchCount}isInView(){return this.useSecure?this._isIntersecting:tt(this.id)&&this.viewPercentage>=50}getRenderCount(){return this._fetchCount-this._failureCount}refresh(){if(this.disableRefresh)return;if(this.refreshConfig.limit&&this.refreshConfig.limit<=this.getRenderCount())return;this.viewPercentage=0;const e=this.refreshConfig.sameSizeRefresh&&!function(e){const t=e?.getSizes();if(!t)return!1;for(let e=0;e<t.length;e++)if("fluid"===t[e])return!0;return!1}(this.slot)&&this.slot?.getSizes().length>1&&1===this._fetchCount;if(this.stackGroup&&this.features?.enableAdStacking){if(!(Date.now()-this._stackAdLastRefreshedAt<=1e3)){const e=this.store.getStackAdComponents(this.stackGroup).map((e=>(e.id!==this.id&&(e.eligibleForTimedRefresh=!1),e._stackAdLastRefreshedAt=Date.now(),e)));if(this.features?.enableYahooPrebid)e.forEach((e=>{ft(e)}));else{const t=e.map((e=>e.slot));this.gptComponent.refresh(t)}}}else e?function(e){try{const{slot:t,features:i,renderInfo:n}=e,s=t.getSlotElementId(),o=document.getElementById(s);if(o instanceof HTMLElement){if(!n.size)return void pt(e);const{height:s,width:r}=n.size,a=[r,s],c=t.getSizes();let d=!1;for(let e=0;e<c.length;e++){const t=c[e];t.height===s&&t.width===r&&(d=!0)}if(!d)return void pt(e);if(e.size=a,e.isEdgeToEdge||(o.style.minHeight=`${s}px`),i?.enableSizeMapping)return e.gptComponent.enableSizeMappingForSlot(e,[0,0],a),void pt(e);if(e.features?.enableYahooPrebid){const t=e.ypbComponent.removeAdUnit(e.id);t&&t.mediaTypes.banner&&(t.mediaTypes.banner.sizes=a,e.ypbComponent.addAdUnit(t))}e.gptComponent.destroy([e.slot]);const l={id:e.id,path:e.slot.getAdUnitPath(),size:a};e.gptComponent.create(l,e),e.kvs&&e.gptComponent.setTargetingForSlot(e,e.kvs),function(e){if(e.features?.enableYahooPrebid){const t=e._getInfoForPrebid();e.ypbComponent.startPrebid(t,(()=>{e.renderSlot()}))}else e.renderSlot()}(e)}}catch(t){pt(e)}}(this):pt(this);this.eligibleForTimedRefresh=!1}_getInfoForPrebid(){return{adComponentId:this.id,adComponentPath:this.path,size:this.size,...this.kvs?.loc&&{loc:this.kvs.loc},...this.stackGroup&&{stackGroup:this.stackGroup}}}render(){this.disableRefresh||this._loadHandler();const t=()=>{const t=document?.getElementById(this.id);"index"!==this.region||t?this.renderSlot():e.addEventListener(f,(()=>{this.renderSlot()}))};if(!this.features?.enableYahooPrebid)return void t();const i=this._getInfoForPrebid();this.ypbComponent.startPrebid(i,t)}renderSlot(){this.gptComponent.render(this.useSecure&&this.containerMap?.[this.id]?this.containerMap[this.id]:this.id,this)}renewTimer(e){if(void 0===this.timer)return;const t=this.timer.action;this.timer.stop(),this.timer=new jt({action:t,duration:e})}_createSlot(e){this.gptComponent.create(e,this)}_loadHandler(){this.useSecure||(Tt[this.id]=zt.bind(this),kt[this.id]=xt.bind(this),Rt[this.id]=Mt.bind(this))}_unloadHandler(){delete Tt[this.id],delete kt[this.id],delete Rt[this.id]}loadResizeHandler(e){this.useSecure||(Pt[this.id]=e)}unloadResizeHandler(){this.useSecure||delete Pt[this.id]}setRenderInfo(e){this.renderInfo={...this.renderInfo,...e}}}function Ft(e){return e instanceof Dt}class Nt{constructor(){return this}add(e,t,i){return void 0===this[e]?(this[e]={[t]:i},i):void 0===this[e][t]?(this[e][t]=i,i):void 0}delete(e,t){this[e]&&this[e][t]&&delete this[e][t]}getAdComponent(e,t){if(void 0!==this[e])return this[e][t]}getAdComponentById(e){const t=Object.entries(this);for(let i=0;i<t.length;i++){const[,n]=t[i];if(void 0!==n[e])return n[e]}}getStackAdComponents(e){const t=[],i=Object.entries(this);for(let n=0;n<i.length;n++){const[,s]=i[n];Object.values(s).forEach((i=>{Ft(i)&&i?.stackGroup===e&&t.push(i)}))}return t}getRegionAdComponents(e){return"object"==typeof this[e]?Object.values(this[e]):[]}}const Ut=/;\s/g,Gt=/([^=]+)=/i,qt=(e,t)=>{const i=((e,t)=>{let i=null;return t=t.trim(),e.document?.cookie.split(Ut).some((e=>{let n,s;const o=e.match(Gt);if(Array.isArray(o))try{n=decodeURIComponent(o[1]),s=decodeURIComponent(e.substring(n.length+1))}catch(e){}return!(n!==t||!s||(i=s.trim(),0))})),i})(e,"axids")||"";return new URLSearchParams(i).get(t)||""},Vt=e=>qt(e,"gam"),$t=e=>qt(e,"dv360");function Wt(e,t){let i=Vt(t);const n=Jt(t,S),{allowOnlyNonPersonalizedAds:s,allowOnlyLimitedAds:o}=e.config.setting?.consent||{},r=!s&&!o;(s||o)&&(i="");const{age:a=0,gender:c=""}=r&&e.config.setting?.userInfo||{},d=function(e){const t={},i=Jt(e,C);i&&(t.ncid=i);const n=Jt(e,A);if(n){t.fr=n;const i=Jt(e,T);i&&(t.frtype=i)}return t}(t),l=Qt(e.gpt,{age:a,axid:i,gender:c,i13n:e.config.i13n,queryI13n:d,testid:n});e.i13nStore.updateCurrent(l),e.hbc.activated&&l&&e.gpt.getTargetings(le,(t=>{e.hbc?.sendMnetKvs(t,{...l,...d})}))}function Qt(e,{age:t,axid:i,gender:n,i13n:s,queryI13n:o,testid:r}){const a={};Ht(Te,s,a),Ht(Le,s,a),i&&(a.axid=Yt(i)),r&&(a.testid=Yt(r)),t&&(a.bka=function(e){const t=[18,21,25,35,45,50,55,65,101].findIndex((t=>e<t));return-1===t?I:`${t}`}(t)),n&&"f"===n&&(a.bkg="1"),n&&"m"===n&&(a.bkg="2"),s?.bka&&(a.bka=s?.bka),s?.bkg&&(a.bkg=s?.bkg),o&&Object.assign(a,o);const c=rt(a,ke);if(c&&Object.keys(c).length){const t=function(e){if(""===e||null==e)return;if(Array.isArray(e)){if(0===e.length)return;e=e.join("")}const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let i="",n=0,s=0;for(let r=0;r<e.length;)r+=("string"==typeof(o=e[r])&&(o=o.charCodeAt(0)),n<0?s|=o>>-n:s=o<<n&248,n>3?(n-=8,1):(n<4&&(i+=t[s>>3],n+=5),0));var o;return i+(n<0?t[s>>3]:"")}(c.axid);e.setTargeting({...c,...t?{axid:t}:{}})}return c}function Ht(e,t,i){t&&"object"==typeof t&&!Array.isArray(t)&&0!==Object.keys(t).length&&e.forEach((e=>{if(t[e]){let n=e,s=Yt(t[e]);Se.hasOwnProperty(e)&&(n=Se[e]),"site"===e&&t.partner&&Ce.includes(t.partner)&&"fp"===s&&(i.originalSiteValue=s,s=`${s}_${t.partner}`),i[n]=s,we.hasOwnProperty(e)&&(i[n]=Kt(i[n]))}}))}function Yt(e){return"number"==typeof e?`${e}`:e}function Kt(e){return"string"==typeof e?e.split(/[;,]+/):e}function Jt(e,t){if(!Ae.includes(t))return null;return new URLSearchParams(e.location?.search).get(t)}class Xt{currentI13n={};regions={};constructor(){return this}updateCurrent(e){this.currentI13n={...this.currentI13n,...e};const t=e.pstaid??e.lpstaid;t&&this.putRegion(t,e)}clearKeysFromCurrent(e){e.forEach((e=>{this.currentI13n[e]&&delete this.currentI13n[e]}))}putRegion(e,t){this.regions[e]?this.regions[e]={...this.regions[e],...t}:this.regions[e]=t}getRegion(e){return this.regions[e]}getCurrent(){return this.currentI13n}getKeyDifferences(e){return Object.keys(e).reduce(((t,i)=>{let n=e[i],s=this.currentI13n[i];return we.hasOwnProperty(i)&&(n=Kt(n).join(","),s=Array.isArray(s)?s.join(","):s),this.currentI13n.hasOwnProperty(i)?n!==s&&(t[i]=e[i]):t[i]=e[i],t}),{})}createRSObject(e=this.currentI13n,t){const i={};for(const n of he)"axid"===n&&t?i[n]=t:void 0!==e[n]&&""!==e[n]&&(i[n]=e[n]);return i}createPublisherBlob(e=this.currentI13n,t){const i=this.createRSObject(e,t);return[Object.entries(i).map((e=>e.join(":"))).join(";"),"",e.spaceid,"","","",e.bucket,""].join("|")}}function Zt(e,t=!1){const i=t?M:z;(function(e){return!(!e.googletag||!e.googletag.apiReady)})(e)||ti({id:$,tagSrc:i,WIN:e})}function ei(e,t){const i=function(e){const t=void 0!==e&&ve.hasOwnProperty(e)?e:Xe,i=ve[t];let n=!1;return t in ge?n=!0:t!==pe.finance&&(n=ot(Y)),n?be.replace(me,i):ye.replace(me,i)}(t);ti({async:!0,id:V,tagSrc:i,WIN:e})}function ti({tagSrc:e,id:t,WIN:i,async:n=!1,onloadCb:s,onerrorCb:o}){const r=i.document.createElement(q);n&&(r.async=!0),s&&"function"==typeof s&&(r.onload=s),o&&"function"==typeof o&&(r.onerror=o),r.type=H,r.src=e,r.id=t,i.document.head.append(r)}function ii(e){const t=F.replace(B,D);ti({id:W,tagSrc:t,WIN:e})}function ni(e){e.onEvent(ie,(e=>{const t=function(e){const{adUnitCode:t,width:i,height:n}=e;return{data:{height:n,id:t,size:[i,n],width:i},name:je}}(e);vt[je]&&vt[je].forEach((e=>{e(t)}))}))}const si="liveintent.com",oi="https://s.yimg.com/eh/prebid-config",ri="fulfilled";var ai;!function(e){e.READY="READY",e.LOADING="LOADING",e.ERROR="ERROR",e.INIT="INIT",e.DISABLED="DISABLED"}(ai||(ai={}));class ci{_pbjs;auctionQueue;debounceTimer;gptComponent;i13nStore;initialConfig;status;preSetupRequestsQueue;stackGroupAuctionState;stackGroupMap;liveIntentEnabled;areBidsEnrichedByLiveIntent;constructor(){return this.status=ai.INIT,this.auctionQueue=[],this.debounceTimer=null,this.preSetupRequestsQueue=[],this.liveIntentEnabled=!1,this.areBidsEnrichedByLiveIntent=!1,this.initialConfig={prebid:{adUnits:{},bidders:{},filters:{},regionCountries:{},setConfig:{}}},this._pbjs={},this._pbjs.que=[],void 0!==e&&(e.pbjs?this._pbjs=e.pbjs:e.pbjs=this._pbjs),this.stackGroupMap={},this.stackGroupAuctionState={},this}startPrebid(t,i){switch(this.status){case ai.INIT:case ai.LOADING:this.preSetupRequestsQueue.push((()=>{this.startPrebid(t,i)}));break;case ai.ERROR:case ai.DISABLED:const{adComponentId:n,stackGroup:s}=t;if(s&&yt(n,s))return;i();break;case ai.READY:try{const n=this._getAdUnitFromAdInfo(t);if(!n){const{adComponentId:e,stackGroup:n}=t;if(n&&yt(e,n))return;return void i()}this.addAdUnit(n);const{adComponentId:s,stackGroup:o}=t,r={adCode:s,callback:i,stackGroup:o};this.auctionQueue.push(r),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{let t;try{t=e.crypto.randomUUID()}catch(e){t=Math.floor(1e15*Math.random()).toString()}this._requestBids({auctionId:t,auctionQueue:[...this.auctionQueue]}),this.auctionQueue=[],this.debounceTimer=null}),20)}catch(e){this.status=ai.ERROR,i()}}}start(t){const{consent:i,gptComponent:n,i13n:s,presetConfig:o,pbjsConfig:r,positions:a}=t;this.gptComponent=n,this.i13nStore=t.i13nStore,this.status=ai.LOADING;const{allowOnlyLimitedAds:c,allowOnlyNonPersonalizedAds:d}=i;c||d?this.status=ai.DISABLED:(!function(e,t){if(t){const i=F.replace(B,t);ti({id:W,onerrorCb:()=>{document.getElementById(W)?.remove(),ii(e)},tagSrc:i,WIN:e})}else ii(e)}(e,r?.version),this.stackGroupMap=function(e){const t=function(e){const t={};for(const[i,n]of Object.entries(e)){const e=dt(n)&&n?.stackGroup;e&&(t[e]||(t[e]=[]),t[e].push(i))}return t}(e),i={};for(const[e,n]of Object.entries(t)){if(void 0===Ye[e])continue;const[t,s]=Ye[e],o=[[],[]];n.forEach((e=>{e.includes(t)?o[0].push(e):e.includes(s)&&o[1].push(e)})),i[e]=o}return i}(a),this._fetchConfig(s,o).then((e=>{const{prebid:{setConfig:t}}=e;t.floors&&(t.floors.additionalSchemaFields={gamPath:(e,t)=>{try{const t=e?.ortb2Imp?.ext?.prebid?.storedrequest?.id;return t||null}catch(e){return null}}}),this.initialConfig=e;const i=this._filterUserIdModulesFromConfig(t);this.liveIntentEnabled=function(e){return!(!e.userSync?.userIds||!e.userSync.userIds.some((e=>e.name===ne.LIVEINTENT_ID)))}(i),this._setConfig(i),this._startObservables(),this._enableAnalytics(),this.status=ai.READY})).catch((()=>{this.status=ai.ERROR})).finally((()=>{this.preSetupRequestsQueue.forEach((e=>{e()})),this.preSetupRequestsQueue=[]})),ni(this))}onEvent(e,t){this._pbjs.que.push((()=>{this._pbjs.onEvent(e,t)}))}_enableAnalytics(){this._pbjs.que.push((()=>{this._pbjs.enableAnalytics({provider:"yahooAnalytics"})}))}_applyLiveIntentSampling(e){return ot(5)?e.filter((e=>e.name!==ne.LIVEINTENT_ID)):e}_filterUserIdModulesFromConfig(e){const t=e.userSync?.userIds;if(!t)return e;let i=t.filter((e=>{const t=e.name;return this.isUserCountryEligible(t,"userIdModules")}));return i=this._applyLiveIntentSampling(i),{...e,userSync:{...e.userSync,userIds:i}}}_setConfig(e){const{cobrand:t,site:i,region:n,originalSiteValue:s}=this.i13nStore.getCurrent(),o=this._getPrebidConfigPartnerKey(t);this._pbjs.que.push((()=>{this._pbjs.setConfig({...e,realTimeData:{...e.realTimeData,dataProviders:[...e.realTimeData?.dataProviders||[],{name:"yahooRTDModule",params:{cobrand:o,region:n,site:s||i},waitForIt:!0}]}})}))}_decideWinningAndLosingStackGroupSides(e,t){let i=[];const n=[],s=[],o={};return new Set(e.map((e=>e.stackGroup)).filter((e=>void 0!==e))).forEach((e=>{if(!this.stackGroupMap[e])return;const[n,s]=this.stackGroupMap[e],o=di(n,t)<di(s,t)?n:s;i=[...i,...o]})),e.forEach((e=>{i.includes(e.adCode)?s.push(e):(n.push(e),o[e.adCode]=t[e.adCode])})),[n,o,s]}_completePostAuctionSteps(e,t){this._pbjs.que.push((()=>{this._updateAdServerTargeting(t),this._pbjs.setTargetingForGPTAsync(Object.keys(t)),e.forEach((e=>{e.callback()}))}))}_requestBids(e){const{auctionId:t,auctionQueue:i}=e,n=i.map((e=>e.adCode));this._pbjs.que.push((()=>{this._pbjs.requestBids({adUnitCodes:n,auctionId:t,bidsBackHandler:(e={})=>{this.gptComponent.addCallbackToCmdQueue((()=>{const t=[],n={},s=[],o={};i.forEach((i=>{const{adCode:r,stackGroup:a}=i;a?(s.push(i),o[r]=e[r]):(t.push(i),n[r]=e[r])})),this._completePostAuctionSteps(t,n);const[r,a,c]=this._decideWinningAndLosingStackGroupSides(s,o),d=function(e,t){const i={data:{},name:Ne},n={losingSide:{adIds:[]},winningSide:{adIds:[]}};return[...e,...t].forEach((e=>{const{stackGroup:t}=e;void 0!==t&&void 0===i.data[t]&&(i.data[t]=n)})),e.forEach((e=>{const{stackGroup:t,adCode:n}=e;void 0!==t&&i.data[t].winningSide.adIds.push(n)})),t.forEach((e=>{const{stackGroup:t,adCode:n}=e;void 0!==t&&i.data[t].losingSide.adIds.push(n)})),i}(r,c);vt[Ne]&&vt[Ne].forEach((e=>{e(d)}));const l=d.data;Object.entries(l).forEach((([e,t])=>{this.stackGroupAuctionState[e]=t})),this._completePostAuctionSteps(r,a)}))}})}))}_updateAdServerTargeting(e){Object.keys(e).forEach((t=>{const i=e[t];i?.bids?.forEach((e=>{const t=e?.adserverTargeting?.hb_pb;if(t){const i=parseFloat(t);!isNaN(i)&&i>100?e.adserverTargeting.hb_pb100=!0:e.adserverTargeting.hb_pb100=!1}}))}))}_getPrebidConfigPartnerKey(e){return e&&de[e]||K}_fetchConfig(e,t){if(function(e){return void 0!==e.prebid}(t))return new Promise((e=>{e(t)}));const{partner:i,device:n,region:s,site:o}=e,r=this._getPrebidConfigPartnerKey(i),a=[],c=`${o}-${s}-${n}`.toLowerCase();let d="";const l=`${oi}/${c}.json`;return a.push(fetch(l)),r&&r!==K&&(d=`${oi}/${r}-${c}.json`,a.push(fetch(d))),Promise.allSettled(a).then((([e,t])=>{const i=t&&t.status===ri&&t.value.ok?t:e;if(i.status!==ri)throw new Error("Network error");return i.value.json()})).then((e=>{if(!e||!e.prebid)throw new Error("Parsing error");return e}))}_getMediaTypes(e){const t={},{adComponentPath:i,size:n}=e,s=i.split("/").slice(-1)[0],o=this.initialConfig.prebid.adUnits[s];if(!o)return t;if(o.formats?.banner){const e=o.formats.banner.sizes,i=bt(e,n);t.banner={pos:o.pos,sizes:i.length>0?i:e}}if(o.formats?.video){const e=o.formats.video.sizes,i=bt(e,n);t.video={context:o.formats.video.context,playerSize:i.length>0?i:e}}return t}isUserCountryEligible(e,t){const i=this.initialConfig.prebid.filters?.[t];if(!i)return!0;const n=(this.i13nStore.getCurrent()?.usercountry??"").toString();if(!n)return!0;const s=i[e]||i.DEFAULT,{allowList:o,blockList:r}=s;return this._isUserLocationEligible(n,o,r)}_isUserLocationEligible(e,t,i){const n=this.initialConfig.prebid.regionCountries,s=i&&this._isUserLocationInList(i,n,e),o=t&&this._isUserLocationInList(t,n,e),r=!("*"===t?.userCountry||t?.userCountry?.includes(e))&&!o,a=i?.userCountry?.includes(e);let c=!0;return(t&&r||a||s)&&(c=!1),c}_isUserLocationInList(e,t,i){return t&&e.userRegion?.some((e=>t[e]?.includes(i)))}_getBids(e){const{adComponentPath:t}=e,i=t.split("/"),n=i[i.length-1],s=this.initialConfig.prebid.adUnits[n];if(void 0===s)return;const{bidders:o}=s;return Object.keys(o).filter((e=>this.isUserCountryEligible(e,"bidders"))).map((e=>({bidder:e,params:{...this.initialConfig.prebid.bidders[e],...o[e]}})))}_getAdUnitFromAdInfo(e){const t=this._getBids(e);if(!t)return;const i=this._getOrtb2Imp(e,t);return{bids:t,code:e.adComponentId,mediaTypes:this._getMediaTypes(e),...i&&{ortb2Imp:i}}}_getOrtb2Imp(e,t){const i=e.adComponentPath.split("/").slice(-1)[0],n=t.find((e=>"yahooPrebidServer"===e.bidder));if(n&&!1!==n.params?.enabled){const t=this.i13nStore.createRSObject(),{axid:n,...s}=t;return{ext:{prebid:{passthrough:{client:"pbjs",gamAdCode:i,...e.loc&&{gamLoc:e.loc},...s},storedrequest:{id:i}}}}}return null}addAdUnit(e){this._adUnits().filter((t=>t.code===e.code)).length>0||this._pbjs.que.push((()=>{this._pbjs.addAdUnits(e)}))}removeAdUnit(e){const t=this._adUnits().filter((t=>t.code===e))[0];return t?(this._pbjs.que.push((()=>{this._pbjs.removeAdUnit(e)})),t):null}_getAllPrebidWinningBids(){return this._pbjs.getAllPrebidWinningBids()}_adUnits(){return this._pbjs.adUnits||[]}_startObservables(){this._setLiveIntentTargeting(),this.liveIntentEnabled&&this._activateLiveintentObservable()}_setLiveIntentTargeting(e,t){const{t0:i,t1:n,wa:s,ws:o,e0:r,e1:a,LI_REPORTING_KEY:c,HB_UI_MOD:d}=ne;this.gptComponent.addCallbackToCmdQueue((()=>{let l=this.liveIntentEnabled?n:i;const h=this._getLiveIntentTargeting(!!e);void 0!==e&&(l+=e?a:r),void 0!==t&&(l+=t?s:o),this.gptComponent.setTargeting({[d]:h,[c]:l})}))}_getLiveIntentTargeting(e){const{LI_OFF:t,LI_ON:i,NO_ID_SOLUTION:n}=ne;return this.liveIntentEnabled?e?i:n:t}_activateLiveintentObservable(){this.onEvent(te,(e=>{this._setBidsEnriched(e),this._setLiveIntentTargeting(this.areBidsEnrichedByLiveIntent)})),this.onEvent(ie,(()=>{this._setLiveIntentTargeting(this.areBidsEnrichedByLiveIntent,0===this._getAllPrebidWinningBids().length)}))}_setBidsEnriched(e){const{adUnits:t}=e;this.areBidsEnrichedByLiveIntent=!!t?.some(ui)}}function di(e,t){return e.reduce(((e,i)=>{const n=t[i]?function(e){return 0===e.length?0:Math.max(...e.map((e=>e.cpm)))}(t[i].bids):0;return e+n}),0)}function li(e){return e.source===si||e.uids&&e.uids.some((e=>e.ext&&e.ext.provider===si))}function hi(e){return e.userIdAsEids&&e.userIdAsEids.some(li)}function ui(e){return e.bids&&e.bids.some(hi)}class gi{gpt;ypb;config;targetOrigin;containerMap;store;i13nStore;constructor(){this.i13nStore=new Xt,this.config={},this.store=new Nt,this.containerMap={},this.targetOrigin="",this.gpt=new _t,this.ypb=new ci}getAdComponent=(e,t=g)=>this.store.getAdComponent(t,e);handleSlotRenderEnded=e=>{const{size:t}=e;this.postMessageToParent({payload:{id:e.slot.getSlotElementId(),size:t,sizes:e.slot.getSizes()},type:d})};handleIntersect=e=>{e.forEach((e=>{const{id:t,isIntersecting:i}=e,n=this.getAdComponent(t);n&&Ft(n)&&(n._isIntersecting!==i&&i&&n?.eligibleForTimedRefresh&&n?.refresh(),n._isIntersecting=i)}))};handleImpressionViewable=e=>{const t=e.slot.getSlotElementId(),i=this.getAdComponent(t);i&&Ft(i)&&i.timer?.start()};initialize(){const e=location.origin;this.containerMap={};const t=window.parent.frames,i=Object.keys(this.config.positions);for(let n=0;n<t.length;n++)try{const{location:s}=t[n];if(s.origin===e&&s.href!==location.href)for(let e=0;e<i.length;e++){if(this.containerMap[i[e]])continue;const s=t[n].window.document.getElementById(i[e]);if(s){this.containerMap[i[e]]=s;break}}}catch(e){}}handleInit=({config:e,origin:t})=>{this.config=e,this.targetOrigin=t,this.initialize()};handleStart=()=>{this.config?.positions&&(this.fetch(),this.render())};handlePostMessage=e=>{if(t=e.origin,!n.test(t))return;var t;const{payload:i,type:d}=e.data;switch(d){case s:this.handleInit({config:i.config,origin:e.origin}),this.postMessageToParent({type:o});break;case l:this.handleStart();break;case c:this.render(i.config);break;case r:{const{age:e,axid:t,gender:n}=i;Qt(this.gpt,{age:e,axid:t,gender:n,i13n:this.config.i13n,queryI13n:null,testid:null});break}case a:this.handleIntersect(i);break;case h:this.store.getRegionAdComponents(g).forEach((e=>{Ft(e)&&e?._isIntersecting&&(e.refresh(),e.timer?.start())}))}};init(){const e=new URL(window.location.href);this.targetOrigin=decodeURIComponent(e.searchParams.get("o")||""),window.addEventListener("message",this.handlePostMessage),this.gpt.addEventListener(Z.slotRenderEnded,this.handleSlotRenderEnded),this.gpt.addEventListener(Z.impressionViewable,this.handleImpressionViewable)}postMessageToParent(e){window.parent.postMessage(e,this.targetOrigin)}fetch(e){return Ci.call(this,e??this.config.positions)}render(e){(e?this.fetch(e):this.store.getRegionAdComponents(g)).forEach((e=>{e.render()}))}}function pi(e){return e instanceof gi}class fi{cseg;features;id;mode;placement;region;store;taboolaComponent;targetType;constructor(e){const{cseg:t,features:i,id:n,mode:s,placement:o,region:r,store:a,taboolaComponent:c,targetType:d}=e;this.features=i,this.id=n,this.mode=s,this.placement=o,this.region=r,this.store=a,this.taboolaComponent=c,this.targetType=d,void 0!==t&&(this.cseg=t);const l={container:this.id,mode:this.mode,placement:this.placement,target_type:this.targetType,...void 0!==this.cseg?{cseg:t}:{}};this.taboolaComponent.create(l),this.store.add(r,n,this)}destroy(){}refresh(){}render(){this.taboolaComponent.render()}}const mi="https://noa.yahoo.com/p",bi="unknown",yi=(e,t)=>{const{spaceid:i,...n}=t,s=Object.keys(n).map((e=>`${e}=${encodeURIComponent(n[e])}`)).join("&");return`${e}?s=${i}&t=${Date.now()}&_I=&_AO=0&_NOL=0&${s}`};function _i(e,t){const{i13n:i}=e,{currentI13n:{pd:n=bi,pt:s=bi}}=t,{bucket:o=bi,colo:r=bi,device:a=bi,lang:c=bi,partner:d=bi,region:l=bi,site:h=bi,src:u=bi,spaceid:g=bi,_rid:p=bi}=i;return{spaceid:g,src:u,site:h,partner:d,lang:c,region:l,device:a,colo:r,test:Array.isArray(o)?o.join(","):o,rid:p,pd:n,pt:s}}function vi(e,t){const{setting:{consent:{allowOnlyNonPersonalizedAds:i,allowOnlyLimitedAds:n}={allowOnlyLimitedAds:!1,allowOnlyNonPersonalizedAds:!1}},i13n:s}=e,{currentI13n:{pd:o=bi,pt:r=bi}}=t,{bucket:a=bi,colo:c=bi,device:d=bi,lang:l=bi,partner:h=bi,region:u=bi,site:g=bi,src:p=bi,spaceid:f=bi,_rid:m=bi}=s;return{spaceid:f,src:p,site:g,partner:h,lang:l,region:u,device:d,colo:c,bucket:Array.isArray(a)?a.join(","):a,rid:m,limitedAds:n,NPA:i,pd:o,pt:r}}const Ei=(e,t)=>{const i={etag:"performance",etrg:"backgroundPost",outcm:"performance",usergenf:I},n={A_utm:JSON.stringify(e)},s=yi("https://geo.yahoo.com/p",{...i,...t,...n});return navigator.sendBeacon(s)},Ii=(e,t)=>{const i=yi(mi,{etrg:"backgroundPost",outcm:"gamMetric",...t,...e});return navigator.sendBeacon(i)},Si=(e,t)=>{const i=yi(mi,{etrg:"backgroundPost",outcm:"gamDebug",...t,...e});return navigator.sendBeacon(i)};function Ci(t){const i=[],{duration:n,limit:s,requireUserAction:o,sameSizeRefresh:r,reserved:a}=this.config.setting?.refresh||{},{disableRefresh:c}=this.config.setting?.refresh||{},{feature:d}=this.config,l={disableRefresh:c,duration:n,limit:s,requireUserAction:o,reserved:a,sameSizeRefresh:r},h=this.config.setting?.useSecure??!1;return Object.entries(t).forEach((([t,n])=>{if(!Ai.call(this,t,n))return;const{id:s,region:o}=n;if(dt(n)){const t=this.i13nStore.currentI13n||{},r=t.abk===R,{customSizeConfig:a,size:c,kvs:u,disableRefresh:g,ntsFallBack:p,stackGroup:m,stickyConfig:b,gptSetting:y}=n,_=nt(n.path,t),v=n.refresh,E=v?.requireUserAction??n.requireUserAction??l?.requireUserAction,I=v?.sameSizeRefresh??n.sameSizeRefresh??l?.sameSizeRefresh,S={...l,...v,requireUserAction:E,sameSizeRefresh:I},C={enableAdStacking:d?.enableAdStacking||!1,enableSizeMapping:d?.enableSizeMapping||!1,enableYahooPrebid:d?.enableYahooPrebid||!1},A={adBlockPlusEnabled:r,containerMap:this.containerMap,customSizeConfig:a,disableRefresh:l.disableRefresh?l.disableRefresh:g,features:C,gptComponent:this.gpt,gptSetting:y,id:s,kvs:u,ntsFallBack:p,path:_,refreshConfig:S,region:o,size:c,stackGroup:m,stickyConfig:b,store:this.store,useSecure:h,ypbComponent:this.ypb},{allowOnlyNonPersonalizedAds:w,allowOnlyLimitedAds:T}=this.config.setting?.consent||{},k=T||w;if(this.config.feature?.enableYahooPrebid&&(!this.config.feature?.enableAdStacking||k)&&n.stackGroup&&yt(s,n.stackGroup))return document.getElementById(s)?.remove(),void e.addEventListener(f,(()=>{document.getElementById(s)?.remove()}));const P=new Dt(A);i.push(P)}if(lt(n)){if(pi(this))return;const{cseg:e,mode:t,placement:r,targetType:a}=n,c={cseg:e,id:s,mode:t,placement:r,region:o,store:this.store,taboolaComponent:this.taboola,targetType:a},d=new fi(c);i.push(d)}})),i}function Ai(e,t){if(!(dt(t)||lt(t)))return!1;const{id:i,region:n}=t;e!==i&&Si({id:i,outcm:"gamSchemaCheck",positionId:e,type:"positionKeyIdMismatch"},vi(this.config,this.i13nStore));return!(void 0!==this.store.getAdComponent(n,i))}const wi={},Ti={};function ki(t,i){const n=t.slot.getSlotElementId(),s=this.store.getAdComponentById(n);if(void 0===s||!Ft(s))return;const o=s.kvs?.loc;if(!o)return;if(!s||s.getRenderCount()>1)return;if("index"!==s.region)return;const r=Math.round(e.performance.now()),a=i[n];if(void 0!==a)if(void 0===a?.gamFetchTime)a.gamFetchTime=r;else{a.gamRenderTime=r;const{benjiRequestStartTime:e,gamFetchTime:t,gamRenderTime:i}=a,n=_i(this.config,this.i13nStore);Ei({[`GAM_${o.toUpperCase()}_BRSTIME`]:e,[`GAM_${o.toUpperCase()}_FTIME`]:t,[`GAM_${o.toUpperCase()}_RTIME`]:i},n)}}const Ri=function(t){const i=t?.id;if(!i)return;if(!t||t.getRenderCount()>1)return;const n=Math.round(e.performance.now());this[i]={benjiRequestStartTime:n}}.bind(wi);function Pi(){const t=_i(this.config,this.i13nStore),i=Math.round(e.performance.now());Ei({GAM_READY_TIME:i},t)}function Bi(){const t=e.performance?.now;t&&(this.gpt.addCallbackToCmdQueue(Pi.bind(this)),this.gpt.addEventListener(Z.slotRequested,(e=>{ki.call(this,e,wi)})),this.gpt.addEventListener(Z.slotOnload,(e=>{ki.call(this,e,wi)})))}function Li(){const e=Math.round(window.performance.now());if(void 0===Ti.taboolaFetchTime)Ti.taboolaFetchTime=e;else{Ti.taboolaRenderTime=e;const t=_i(this.config,this.i13nStore);Ei({TABOOLA_STREAM_FIRST_AD_FTIME:Ti.taboolaFetchTime,TABOOLA_STREAM_FIRST_AD_RTIME:Ti.taboolaRenderTime},t)}}function Oi(e){e?.forEach((e=>{Ft(e)&&Ri(e),e.render()}))}function ji(e){if(void 0===e){return void Oi(this.store.getRegionAdComponents(g))}Oi(Ci.call(this,e))}function xi(e,t){if(e){const i=e.benjiAd?.slot,n=t&&i.id?function(e){return e+"-"+(new Date).getUTCMilliseconds()+"-benji-ad"}(i.id):i.id,s={id:n,path:i.path,region:i.region,size:i.size};return t&&t.elem&&(t.elem.id=n),s}}function zi(t){const i={};t&&(i[t.id]=t,ji.call(e.benji,i))}const Mi={[J.caasArticle]:function(e){const t=xi(e&&e.meta&&e.meta.darlaConfig);t&&zi(t)}};const Di={[J.darlaComplete]:function(e){const t=xi(e&&e.meta&&e.meta.darlaConfig,e);t&&zi(t)}};function Fi(){const t=Mi[J.caasArticle],i=Di[J.darlaComplete];e.wafer.ready((()=>{e.wafer.on(J.caasArticle,t),e.wafer.on(J.darlaComplete,i)}))}const Ni=(e,t,i)=>{const n=e.document.createElement("meta");n.name=t,n.content=i,e.document?.head.append(n)};const Ui=e=>{const t=document.getElementById(e);t?.style.setProperty("display","none");const i=t?.parentElement&&st(t.parentElement);i?.style?.setProperty("display","none")};const Gi={[Z.slotRenderEnded]:function(e){if(e&&e.isEmpty){const t=e?.slot?.getSlotElementId(),i=this.store.getAdComponentById(t);if(i&&Ft(i)){if(this.nts.activated&&i.ntsFallBack?.position||this.config?.feature?.enableAdStacking&&i.stackGroup)return;i.destroy()}Ui(t)}}};function qi(){const e=Gi[Z.slotRenderEnded];this.gpt.addEventListener(Z.slotRenderEnded,e.bind(this))}const Vi=(e,t)=>{e.dispatchEvent(new CustomEvent(J.adsFinishParse,{detail:{positions:t}}))},$i={BTN:"BTNA","BTN-1":"BTNB","BTN-2":"BTNC","BTN-3":"BTND"},Wi={BTN:{},"BTN-1":{},"BTN-2":{},"BTN-3":{},BTNA:{},BTNB:{},BTNC:{},BTND:{},FB2A:{},FB2B:{},FB2C:{},FB2D:{}};let Qi=0,Hi=0;function Yi(t){if(t){let i=t?.slot?.getSlotElementId();i=i.replace(/default|sda-|-sizer/gi,""),i=$i[i]||i,Wi[i]&&(Qi++,t.isEmpty?t.isEmpty&&(Wi[i].validAd=!1):Wi[i].validAd=!0),Qi===Hi&&(Vi(e,Wi),Qi=0)}}function Ki(){Object.keys(this.config.positions).forEach((e=>{(e.includes("BTN")||e.includes("FB2"))&&Hi++})),this.gpt.addEventListener(Z.slotRenderEnded,(e=>{Yi.call(this,e)}))}function Ji(){pi(this)||this.on(je,(e=>{!function(e){const{data:t}=e,{id:i,height:n}=t,s=document.getElementById(i),o=s?.clientHeight;null!==n&&n!==o&&s?.style.setProperty("min-height",n+"px")}(e)}))}const Xi="INITIAL_RENDER_FAILURE",Zi="REFRESH_RENDER_FAILURE",en="REFRESH_RENDER",tn="INITIAL_RENDER",nn={ads_failure_total:0,ads_fetch_total:0,ads_refresh_total:0,ads_slot_right_failure:0,ads_slot_right_total:0,ads_slot_top_failure:0,ads_slot_top_total:0};function sn(e,t){if(void 0===t.kvs||void 0===t.kvs.loc)return;const i=function(e){switch(e){case"top_right":return"right";case"top_center":return"top";default:return}}(t.kvs.loc);if(void 0===i)return;let n;return n=!0===e.isEmpty?t.isInitiallyLoaded()?Xi:Zi:t.isInitiallyLoaded()?tn:en,function(e,t){const i={...nn};switch(i[`ads_slot_${t}_total`]=1,e){case tn:return i.ads_fetch_total=1,i;case en:return i.ads_refresh_total=1,i;case Xi:return i[`ads_slot_${t}_failure`]=1,i.ads_failure_total=1,i.ads_fetch_total=1,i;case Zi:return i[`ads_slot_${t}_failure`]=1,i.ads_failure_total=1,i.ads_refresh_total=1,i}}(n,i)}function on(){this.gpt.addEventListener(Z.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(void 0===i||!Ft(i))return;const n=sn(e,i);void 0!==n&&Ii(n,function(e={}){const{colo:t=bi,device:i=bi,lang:n=bi,partner:s=bi,region:o=bi,site:r=bi,src:a=bi,spaceid:c=bi}=e;return{spaceid:c,src:a,site:r,partner:s,lang:n,region:o,device:i,colo:t}}(this.config.i13n))}))}function rn(){this.gpt.addEventListener(Z.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(void 0===i||!Ft(i))return;const n=function(e,t){const{id:i}=t,n=t.getRenderCount(),s=n>1?"true":"false",o=t.kvs?.loc?t.kvs.loc:"undefined",r=e.isEmpty?"failed":"succeeded";return{id:i,isRefresh:s,loc:Array.isArray(o)?o[0]:o,renderCount:n,status:r}}(e,i);Si(n,vi(this.config,this.i13nStore))}))}function an(){let e=!0;this.taboola.addEventListener(ee.render,(t=>{const i=t.detail,{container:n,mode:s,placement:o}=i,r=this.store.getAdComponentById(n?.id);if(void 0===r||!function(e){return e instanceof fi}(r))return;const a={container:n?.id,mode:s,outcm:"taboolaDebug",placement:o,type:"render"};e&&(Li.call(this),a.renderTime=window.performance.now(),e=!1),Si(a,vi(this.config,this.i13nStore))}))}function cn(e,t){(Array.isArray(e)?e:[e]).forEach((e=>{e.renewTimer(t)}))}function dn(e){const t=function(e){return e.advertiserId&&e.campaignId&&e.creativeId&&e.lineItemId?L.DirectSold:L.DynamicAllocation}(e),i=function(e){const{advertiserId:t}=e;return t?re.House.includes(t)?O.House:re.AdTech.includes(t)?O.AdTech:re.AdX.includes(t)?O.AdX:re.YahooPrebid.includes(t)?O.YahooPrebid:O.Unknown:O.Unknown}(e);return t===L.DirectSold&&i===O.Unknown}function ln(e,t,i,n=!1){const s=e.config.setting?.refresh?.reserved,o=function(e,t,i){if(!i)return 0;const n=t&&i.sponsorship?i.sponsorship:i?.duration||0,s=e.size;if(!Array.isArray(s))return n;const o=JSON.stringify(s),r=i[x[o]];return r?t&&r?.sponsorship?r?.sponsorship:r?.duration:n}(t,n,s),r=i?.refreshConfig?.reserved;return(n&&r?.sponsorship?r?.sponsorship:r?.duration)||o}function hn(e,t){const i=document.getElementById(e),n=st(i);n&&(n.classList.add("gam-sticky-ad"),t.height&&n.style.setProperty("min-height",t.height+"px"))}function un(e,t){let i;const n=document.getElementById(e);if(!n)return;const s=n?.children[0],o=s?.children[0];if(t){const e=Object.keys(t).find((e=>{const i=e&&t[e];return!!i&&!0===i.isEligibleForResize}));i=e&&t[e]}if(!i)return;const r=window.innerWidth,a=i?.breakpoints;let c,d=!0;for(const e in a)if(o&&e){const t=e.split(","),i=Number(t[0]),l=Number(t[1]);if(r>=i&&r<=l){const t=a[e];c=r*t[1]/t[0],d&&(n.setAttribute("style",`min-height: ${c}px;`),d=!1),s.style.display="block",o.height=c.toString(),o.width=r.toString()}}}function gn(e,t){const i=document.getElementById(e);i&&(i.setAttribute("class",`${k}`),t&&function(e){e.classList?.add("D(n)--landscape");const t=e.parentElement&&st(e.parentElement);t?.classList?.add("D(n)--landscape")}(i))}function pn(e){const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(void 0===i||!Ft(i))return;const n=i.customSizeConfig,s=i.stickyConfig;if(dn(e)){const t=ln(this,e,i,!1);t&&cn(i,t)}if(i.isEdgeToEdge=!1,n&&function(e,t,i){i&&Object.keys(i).forEach((n=>{let s;s=n&&!0===i[n]?{}:n&&i[n];const o=j[n];if(s=Object.assign({},o,s),t&&s?.size&&e?.size&&s.size[0]===e.size[0]&&s.size[1]===e.size[1]){s.isEligibleForResize=!0,t.isEdgeToEdge=!0;const i=t.refreshConfig,o=i?.reserved&&i.reserved[n],r=o?.duration,a=o?.disableRefresh;a?t.disableAllRefresh():r&&cn(t,r),s.stickyConfig&&hn(e.slot.getSlotElementId(),s.stickyConfig)}else s.isEligibleForResize=!1;i[n]=s}))}(e,i,n),i.isEdgeToEdge&&n){gn(t,"smartphone"===this.config.i13n?.device),un(i.id,n),1===i.getRenderCount()&&function(e){e.loadResizeHandler((()=>{e.isEdgeToEdge&&e.customSizeConfig&&un(e.id,e.customSizeConfig)}))}(i)}else{const e=document.getElementById(t);e?.classList?.remove("D(n)--landscape");const i=e?.parentElement&&st(e.parentElement);i?.classList?.remove("D(n)--landscape")}s?.enabled&&hn(t,s)}function fn(){this.gpt.addEventListener(Z.slotRenderEnded,(e=>{pn.call(this,e)}))}function mn(){this.gpt.addEventListener(Z.slotRequested,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(!i)return;Ft(i)&&i.increaseFetchCount();const n=this.i13nStore.currentI13n?.site,s=function(e,t){return{data:{id:e.slot.getSlotElementId()},name:ze,...Et(e,t)}}(e,n);vt[ze]&&vt[ze].forEach((e=>{e(s)})),Ft(i)&&i.getRenderCount()>=1&&i.unloadResizeHandler()})),this.gpt.addEventListener(Z.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(i)if(Ft(i)&&function(e){if(void 0===e)return;const t=`${e.getRenderCount()}`;e.gptComponent.setTargetingForSlot(e,{ri:t})}(i),e.isEmpty){Ft(i)&&i?.increaseFailureCount();const t=this.i13nStore.currentI13n?.site,n=function(e,t){return{data:{id:e.slot.getSlotElementId()},name:xe,...Et(e,t)}}(e,t);vt[xe]&&vt[xe].forEach((e=>{e(n)}))}else{if(!(null!==e.advertiserId&&re.YahooPrebid.includes(e.advertiserId))){const t=this.i13nStore.currentI13n?.site,i=function(e,t){const{slot:i,size:n}=e;let s=null,o=null,r=null;return Array.isArray(n)&&(s=n[0],o=n[1],r=[s,o]),{data:{height:o,id:i.getSlotElementId(),size:r,width:s},name:je,...Et(e,t)}}(e,t);vt[je]&&vt[je].forEach((e=>{e(i)}))}}})),this.gpt.addEventListener(Z.slotResponseReceived,(e=>{const t=this.i13nStore.currentI13n?.site,i=function(e,t){return{data:{id:e.slot.getSlotElementId()},name:De,...Et(e,t)}}(e,t);vt[De]&&vt[De].forEach((e=>{e(i)}))})),this.gpt.addEventListener(Z.impressionViewable,(e=>{const t=this.i13nStore.currentI13n?.site,i=function(e,t){return{data:{id:e.slot.getSlotElementId()},name:Fe,...Et(e,t)}}(e,t);vt[Fe]&&vt[Fe].forEach((e=>{e(i)}))}))}function bn(e){let t=!1;const i=(e||[]).filter((e=>!!document?.getElementById(e))),n=new Set(i),s={positions:{}},o=()=>{(vt[Me]||[]).forEach((e=>{e(s)})),t=!0};0!==n.size?this.gpt.addEventListener(Z.slotRenderEnded,(e=>{if(t)return;const i=e.slot.getSlotElementId(),r=this.config.positions[i];if(n.has(i)&&dt(r)){n.delete(i);const t=dn(e);s.positions[i]={adType:t?Ge.RESERVED:Ge.STANDARD,id:i,loc:r.kvs?.loc,renderStatus:e.isEmpty?xe:je}}0===n.size&&o()})):o()}function yn(){this.on(je,(e=>{const{id:t,width:i,height:n}=e.data,s=this.store.getAdComponentById(t);if(void 0!==s&&Ft(s)){if(void 0===s.renderInfo.originalDisplayVal){const e=document?.getElementById(s.id),t=e?.style.display||u;s.setRenderInfo({originalDisplayVal:t})}i&&n&&s.setRenderInfo({size:{height:n,width:i}})}}))}function _n(){this.on(Ne,(e=>{const{data:t}=e,i=[],n=[];Object.entries(t).forEach((([e,t])=>{const{winningSide:s,losingSide:o}=t;i.push(...s.adIds),n.push(...o.adIds)})),[...i,...n].forEach((e=>{const t=document.getElementById(e);t?.style.setProperty("display","none")}))})),this.gpt.addEventListener(Z.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.ypb.stackGroupAuctionState;Object.values(i).forEach((e=>{if(e.winningSide.adIds.includes(t)){const e=this.store.getAdComponentById(t);if(void 0!==e&&Ft(e)){const i=document.getElementById(t);i?.style.setProperty("display",e.renderInfo.originalDisplayVal||u)}}}))}))}const vn=(e,t)=>{const i=((e,t)=>{const i=(e=>e.region||e.usercountry||"")(t);let n=Qe;return t.gdpr?n=$e:"us"===i.toLocaleLowerCase()&&(n=We),n.some((t=>!1===e[t]))})(e,t),n=(e=>{let t=!1;const i=Ve.every((t=>!e[t])),n=qe.every((t=>e[t]));return t=i&&n,t})(e);return{allowOnlyLimitedAds:i,allowOnlyNonPersonalizedAds:n}};function En(){this.gpt.addEventListener(Z.slotRequested,(()=>{this.hbc.updateAxids(this.i13nStore.currentI13n)}))}function In(){this.gpt.addEventListener(Z.slotRequested,(e=>{const t=e.slot.getSlotElementId();this.nts.unmonitorPosition(t)})),this.gpt.addEventListener(Z.slotRenderEnded,(e=>{const t=e.slot.getSlotElementId(),i=this.store.getAdComponentById(t);if(!e.isEmpty||!i||!Ft(i))return;const n=i.ntsFallBack?.position;n?this.nts.getFallbackPosition(i):this.nts.beacon.adFailedWithNoFallback(i)}))}class Sn{i13nStore;config;constructor(e,t){this.i13nStore=e,this.config=t}getDebugContext(e,t){const{id:i}=t,n=t.getRenderCount(),s=t.kvs?.loc?t.kvs.loc:"undefined",o=e.isEmpty?"failed":"succeeded";return{errorMessage:e.errorMessage||"",id:i,loc:Array.isArray(s)?s[0]:s,renderCount:n,sourceType:"native",status:o}}sendDebugBeacon(e,t){const i=this.getDebugContext(e,t);Si(i,vi(this.config,this.i13nStore))}fallbackRendered(e){this.sendDebugBeacon({isEmpty:!1},e)}adFailedWithNoFallback(e){this.sendDebugBeacon({errorMessage:"Failed ad with no fallback",isEmpty:!0},e)}fallbackEmptyTemplateError(e,t){this.sendDebugBeacon({errorMessage:e,isEmpty:!0},t)}}const Cn=["bucket","hashtag","lmsid","lpstaid","lu","pct","pd","pt","site"];const An={gpt:new _t,hbc:new class{_advBidxc;yhDn="hb.yahoo.net";activated=!1;allowPersonalizedAds=!0;constructor(){return this._advBidxc={},this._advBidxc.version=12.1,this._advBidxc.execute=[],this}start(t){const{benji:i,i13n:n,headerBidder:s,limitedAds:o,allowPersonalizedAds:r}=t;this.activated=!0,this._advBidxc.customerId=s.customerId;const a={device:n.device??"",lang:n.lang??"",region:this.setRegion(n),section:this.setSection(n),site:n.site??""};if(this.allowPersonalizedAds=r,this.allowPersonalizedAds){const[t,i]=[n.axidDv360||$t(e),n.axid||Vt(e)];t&&(a.axid_e=t),i&&(a.axid_l=i)}return this._advBidxc.mchnm=n.mchnm??"",this._advBidxc.startTime=(new Date).getTime(),this._advBidxc.timeout=1e3,this._advBidxc.limitedAds=o,this._advBidxc.isAdServerLoaded=!1,this._advBidxc.pub=a,n.site&&gt(n.site)&&(this._advBidxc.device=a.device,this._advBidxc.lang=a.lang,this._advBidxc.region=a.region,this._advBidxc.section=a.section,this._advBidxc.site=a.site),void 0!==e&&(this._advBidxc.domain=s?.domain||e.location.hostname,e.advBidxc?this._advBidxc=e.advBidxc:(this._advBidxc.loadGPT=setTimeout((()=>this.loadGPT()),1e3),e.advBidxc=this._advBidxc,this.loadMNETScript())),En.call(i),this}loadGPT(){e.advBidxc&&!e.advBidxc.isAdServerLoaded&&(Zt(e,e.advBidxc.limitedAds),e.advBidxc.isAdServerLoaded=!0)}loadMNETScript(){ti({id:"mnet-script",tagSrc:"https://"+this.yhDn+"/bidexchange.js?cid="+this._advBidxc.customerId+"&version="+this._advBidxc.version+"&dn="+this._advBidxc.domain+"&ysection="+encodeURIComponent(this._advBidxc.pub?.section)+"&yregion="+encodeURIComponent(this._advBidxc.pub?.region)+"&ylang="+encodeURIComponent(this._advBidxc.pub?.lang)+"&ysite="+encodeURIComponent(this._advBidxc.pub?.site)+"&ydevice="+encodeURIComponent(this._advBidxc.pub?.device),WIN:e})}setSection(e){const{pt:t}=e;return"home"===t?"main":"utility"===t?"utility":"ros"}setRegion(e){const t=e.region,i=e.lang;if(t)return t;if(i){const e=i.toLocaleLowerCase().split("-");return e[1]??e[0]}return this._advBidxc.pub?.region||""}limitDataProcessing(){this._advBidxc.execute.push((()=>{this._advBidxc.limitDataProcessing(!0)}))}updateAxids(t){if(!(this.allowPersonalizedAds&&(!this._advBidxc.pub.axid_e||!this._advBidxc.pub.axid_l)))return;const[i,n]=[t.axidDv360||$t(e),t.axid||Vt(e)];!this._advBidxc.pub.axid_e&&i&&(this._advBidxc.pub.axid_e=i),!this._advBidxc.pub.axid_l&&n&&(this._advBidxc.pub.axid_l=n)}updateMNETKVS(t){const{url:i,...n}=t,s={pub:{...this._advBidxc.pub,...n},url:i||e.location.href};this._advBidxc.pub=s.pub,this._advBidxc.execute.push((()=>{this._advBidxc.update(s)}))}getMnetKVs(e,t){const i={};return le.forEach((n=>{t.hasOwnProperty(n)?i[n]=Yt(t[n]):i[n]=e[n]||""})),""===i.lu&&(i.lu=I),Array.isArray(i.hashtag)&&(i.hashtag=i.hashtag.join(",")),Array.isArray(i.bucket)&&(i.bucket=i.bucket.join(",")),Array.isArray(i.extractedKeyWords)&&(i.extractedKeyWords=i.extractedKeyWords.join("|")),""===i.hashtag&&delete i.hashtag,i}sendMnetKvs(e,t){const i=this.getMnetKVs(e,t),{bucket:n,cobrand:s,hashtag:o,commerceArticleType:r,extractedKeyWords:a}=i,c=i.lang,d=i.site||this._advBidxc.pub?.site,l=ut(i),h=o?{k5:{key:v,value:o}}:{},u=r?{k9:{key:y,value:r}}:{},g=a?{k10:{key:_,value:a}}:{},p={k1:{key:"publisherblob",value:l},k2:{key:m,value:Yt(n)},k3:{key:b,value:s},k4:{key:E,value:c},...h,k8:{key:"site",value:d},...u,...g};this.setCustomMNETKeyValues(p);const f=i.mchnm||this._advBidxc.mchnm,I=this.setSection(i),S=this.setRegion(i),C=i.device||this._advBidxc.pub?.device,A=i.url||"";this.updateMNETKVS({device:C,lang:c,mchnm:f,region:S,section:I,site:d,url:A})}setCustomMNETKeyValues(e){this._advBidxc.execute.push((()=>{this._advBidxc.setCustomKeyValues(e)}))}},i13nStore:new Xt,nts:new class{activated=!1;activePositions=[];activeScriptSrcs=[];_intersectionObserver={};_impressionObserver={};beacon={};constructor(){}start({benji:e}){this.activated=!0,this._intersectionObserver=new IntersectionObserver(this.handleIntersection,{threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this._impressionObserver=new IntersectionObserver(this.handleImpressionIntersection,{threshold:[.5]});const t=new Sn(e.i13nStore,e.config);this.beacon=t,In.call(e)}destroyAndCollapsePosition(e){this.unmonitorPosition(e.id),Ui(e.id),e.destroy()}encodePblob(e){const t=JSON.stringify(e);return encodeURIComponent(t)}getTemplateUrl(e){const t=this.beacon.i13nStore.currentI13n?.spaceid,i=(n=this.beacon.i13nStore.currentI13n,Cn.reduce(((e,t)=>(n&&n.hasOwnProperty(t)&&(e[t]=n[t]),e)),{}));var n;return`https://nts.media.yahoo.com/api/v2/template?spaceid=${t}&adPositions=${e}&pageContext=${this.encodePblob(i)}`}handleIntersection=e=>{e.forEach((e=>{const{target:t,intersectionRatio:i}=e,n=t.id,s=Tt[n];s&&s(100*i)}))};handleImpressionIntersection=e=>{e.forEach((e=>{const{target:t,intersectionRatio:i}=e;i>.5&&(this.triggerAdImpressionViewable(t),this._impressionObserver.unobserve(t))}))};triggerAdImpressionViewable(e){const t=e.id,i=kt[t];i&&i()}fetchTemplate(e){return fetch(e).then((e=>{if(e.ok)return e.json();throw new Error("Network error")})).then((e=>{if(!e.ads||!e.ads.length)throw new Error("No ads found");const{template:t,adSize:i}=e.ads[0],[n,s]=i.split("x");return{height:s,template:t,width:n}}))}unmonitorPosition(e){const t=document.getElementById(e);t&&(this._intersectionObserver.unobserve(t),this._impressionObserver.unobserve(t))}monitorPosition(e){e&&(this._intersectionObserver.observe(e),this._impressionObserver.observe(e))}getBlobURL(e){const t=new Blob([e],{type:"text/html"});return URL.createObjectURL(t)}addTemplateToAdContainer(e,t){const{template:i,width:n,height:s}=t,o=this.getBlobURL(i),r=document.createElement("iframe");r.width=(Number(n)+10).toString(),r.height=(Number(s)+10).toString(),r.style.border="none",r.sandbox="allow-scripts allow-popups",r.src=o,r.scrolling="no",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.innerHTML="",e.appendChild(r),URL.revokeObjectURL(o)}getFallbackPosition(e){const t=document.getElementById(e.id);if(!t)return Promise.reject();const i=this.getTemplateUrl(e.ntsFallBack.position);return this.fetchTemplate(i).then((i=>{this.addTemplateToAdContainer(t,i),this.monitorPosition(t),this.beacon.fallbackRendered(e)})).catch((t=>{this.destroyAndCollapsePosition(e),this.beacon.fallbackEmptyTemplateError(t,e)}))}},secureController:new class{config;_iframe;_iframeReady;_observer;_commandQueue;targetOrigin;constructor(){this.config={},this._iframeReady=!1,this._commandQueue=[],this.targetOrigin="https://s.yimg.com"}handlePostMessage=e=>{if(e.origin!==this.targetOrigin)return;const{type:t}=e.data;switch(t){case o:this._iframeReady=!0;for(let e=0;e<this._commandQueue.length;e++)this.postMessageToIframe({payload:this._commandQueue[e][1],type:this._commandQueue[e][0]});this._commandQueue=[];break;case d:const{id:t,size:i}=e.data.payload;if(i&&Array.isArray(i)){const e=document.getElementById(t);e?.querySelector("iframe")?.setAttribute("style",`width:${i[0]}px;height:${i[1]}px;border:0px;margin:0;`)}}};handleIntersection=e=>{const t=e.map((e=>({id:e.target.id,intersectionRatio:e.intersectionRatio,isIntersecting:e.isIntersecting,isVisible:e.isVisible,time:e.time})));this._iframeReady?this.postMessageToIframe({payload:t,type:a}):this._commandQueue.push([a,t])};handleTabFocus=()=>{this.postMessageToIframe({payload:!0,type:h})};createGPTIframe(){this._iframe=document.createElement("iframe"),this._iframe.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/2.1.29/gpt.html?o=${encodeURIComponent(e.location.origin)}`),this._iframe.onload=()=>{this.initIframe(),this.initPagei13n()},this._iframe.style.display="none",document.body.appendChild(this._iframe)}createIframes(e){const{positions:t}=e;Object.keys(t).forEach((e=>{const t=document.getElementById(e);if(!t?.querySelector("iframe")){this._observer?.observe(t);const i=document.createElement("iframe");i.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/2.1.29/sda.html?p=${e}`),i.setAttribute("scrolling","no"),i.setAttribute("style","border:0px;margin:0px;");document.createElement("div").id=e,t?.appendChild(i)}}))}init(t){if("undefined"!=typeof window){if(this.config=t,!this._iframe){window.addEventListener("message",this.handlePostMessage),this._observer=new IntersectionObserver(this.handleIntersection,{threshold:.5});const{tabFocus:t}=this.config.setting.refresh;if(t){const{outOfFocusDuration:i}=t;e.addEventListener(ce.tabFocus,this.handleTabFocus),Je(i)}this.createGPTIframe()}this.createIframes(t)}}initIframe(){this.postMessageToIframe({payload:{config:this.config},type:s})}initPagei13n(){this.postMessageToIframe({payload:{},type:r})}render(e){this._iframeReady?this.postMessageToIframe({payload:{config:e},type:c}):this._commandQueue.push([c,{config:e}])}start(e){this.init(e),this._iframeReady?this.postMessageToIframe({type:l}):this._commandQueue.push([l,{config:e}])}postMessageToIframe(e){this._iframe?.contentWindow?.postMessage(e,this.targetOrigin)}},store:new Nt,taboola:new class{_taboola;axid;features;pageType;pageTypeValue;fetchCount;url;debounceTimer;constructor(){return this.axid=void 0,this.features={},this.fetchCount=0,this._taboola=[],this.pageType=void 0,this.pageTypeValue="",this.debounceTimer=null,void 0!==e&&(e._taboola?this._taboola=e._taboola:e._taboola=this._taboola),this}create(...t){this.fetchCount++;const[i]=t;if(!i)return;const{container:n,mode:s,placement:o,target_type:r,cseg:a}=i,c={container:n,mode:s,placement:o,target_type:r,...a&&{cseg:a}},d=e.benji;this._taboola.push(c),Si({container:n,mode:s,outcm:"taboolaDebug",placement:o,type:"init"},vi(d.config,d.i13nStore)),1===this.fetchCount&&Li.call(d)}destroy(e){}render(){this.features.enableTaboolaDebounce?(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this._taboola.push(He)}),100)):this._taboola.push(He)}setupService(...t){const[i,n,s]=t,{publisherId:o,pageType:r,pageTypeValue:a,url:c}=n;if(this.features=i,!e||!r)return;this.pageType=r,this.pageTypeValue=a??P,this.url=c;const d=(e=>{const t=encodeURIComponent(e);return G.replace(U,t)})(ht(o,s));ti({async:!0,id:"taboola-script",onerrorCb:this._onFailure,tagSrc:d,WIN:e});const l=e.benji,h=l?.i13nStore?.currentI13n,u=l?.config?.setting?.consent,g=u?.allowOnlyLimitedAds||u?.allowOnlyNonPersonalizedAds;this.axid=g?this.axid:qt(e,"tbla");const p=h&&ut(h,this.axid),f={cex:JSON.stringify(!!g),[this.pageType]:this.pageTypeValue,pblob:p};this.axid&&(f.unified_id=this.axid);const m=this.url&&(e=>{try{const t=new URL(e);return t.origin+t.pathname}catch(e){return null}})(this.url);if(m){const e={...f,url:m};this._taboola.push(e)}else this._taboola.push(f)}addEventListener(e,t){const i={handler:t,listenTo:e};this._taboola.push(i)}sendPublisherBlob(e){this._taboola.push({pblob:e})}updateTaboolaPageConfig(e,t){e&&this.pageType&&this.pageType!==e&&(this.pageType=e,this.pageTypeValue=t??P,this._taboola.push({[e]:this.pageTypeValue}))}_onFailure(){}},ypb:new ci,on:function(e,t){(function(e){return e===je||e===xe||e===ze||e===Me||e===De||e===Fe||e===Ne})(e)&&(vt[e]||(vt[e]=[]),vt[e].push(t))},start:function(t){if(!t||!t.positions||!t.setting||0===Object.keys(t).length)return;this.config={...t,event:t.event||{},feature:t.feature||{},i13n:t.i13n||{},prebidSetting:t.prebidSetting||{},setting:t.setting||{}},this.config.setting.tracking={...this.config.setting.tracking,metrics:this.config.setting.tracking?.metrics??true,performance:this.config.setting.tracking?.performance??true},mn.call(this),!0===this.config.setting.tracking?.performance&&Bi.call(this),!0===this.config.setting.tracking?.metrics&&on.call(this),!0===this.config.setting.tracking?.debug&&rn.call(this),!1!==this.config.feature.enableYahooPrebid&&(this.config.feature.enableYahooPrebid=true);const{feature:{enablef10d509c:i=_e,enableNTSFallback:n,enableYahooPrebid:s},setting:{gptSetting:o,taboolaSetting:r}}=this.config,a=((e="")=>("string"==typeof e?Array.from(e).map((e=>e.charCodeAt(0).toString(16))).join(""):"").substring(0,150))(this.config.i13n.axid||Vt(e));i&&ei(e,this.config.i13n.site);const{allowOnlyNonPersonalizedAds:c,allowOnlyLimitedAds:d}=this.config.setting?.consent||{};Zt(e,!!d),s&&this.ypb.start({consent:{allowOnlyLimitedAds:!!d,allowOnlyNonPersonalizedAds:!!c},gptComponent:this.gpt,i13n:this.config.i13n,i13nStore:this.i13nStore,pbjsConfig:this.config.prebidSetting?.pbjs,positions:this.config.positions,presetConfig:this.config.prebidSetting?.pbConfig||{}}),n&&this.nts.start({benji:this});const l={};this.config.feature&&X.forEach((e=>{this.config.feature[e]&&(l[e]=this.config.feature[e])})),this.gpt.setupService(l,o),this.gpt.setInitialPageUrl(t.i13n?.url);const{useSecure:h=!1}=this.config.setting;if(!h){if(Wt(this,e),this.config.setting.refresh){Lt.call(this);const{tabFocus:t,requireUserAction:i}=this.config.setting.refresh;if(t){const{outOfFocusDuration:i}=t;Je(i),e.addEventListener(ce.tabFocus,(()=>{Object.keys(Rt).forEach((e=>{(0,Rt[e])()})),Bt.length=0}))}i&&Ot()}e.addEventListener("resize",(()=>{Object.keys(Pt).forEach((e=>{(0,Pt[e])()}))}))}r&&(this.taboola.setupService(this.config.feature,r,this.config.i13n.site),an.call(this)),!a||c||d||this.gpt.setPublisherProvidedId(a),c?this.gpt.setPrivacySettings(oe):d&&(this.gpt.setPrivacySettings(se),this.hbc.activated&&this.hbc.limitDataProcessing()),!0===this.config.setting.lazyLoad?this.gpt?.enableLazyLoad():this.config.setting.lazyLoad&&this.gpt?.enableLazyLoad(this.config.setting.lazyLoad);const{positions:u}=this.config;h?this.secureController.start(this.config):Ci.call(this,u);const g=Object.keys(this.store.index||{});bn.call(this,g);const{setting:{renderOnStart:f=p}}=this.config;!0===f&&(h?this.secureController.render():ji.call(this)),e.addEventListener(ae,(e=>{const t=e.detail;h?this.secureController.render(t.positions):ji.call(this,t.positions)})),e.wafer?Fi():e.addEventListener(J.waferReady,(function(){Fi()})),!1!==this.config.feature?.collapseWhenNoFill&&qi.call(this),!1!==this.config.feature?.adjustMinHeight&&Ji.call(this),!1!==this.config.feature?.enablePremiumAds&&fn.call(this),this.config.feature?.fireBrokerButtonEvent&&Ki.call(this),this.config.feature?.enableGooglePrivacySandboxPAIGTest&&function(e){Ni(e,"opus:gps-paig-test","true")}(e),this.config.feature?.enableGooglePrivacySandboxARTest&&function(e){Ni(e,"opus:gps-ar-test","true")}(e),function(e){ti({id:Q,tagSrc:N,WIN:e})}(e),(e=>{const t=new CustomEvent(ce.benjiReady);e.dispatchEvent(t)})(e),this.isReady=!0,yn.call(this),_n.call(this)}};An.render=ji,An.refresh=function(e,t){const i=it(this,e);i?.forEach((e=>{(!t?.checkViewport||t?.checkViewport&&tt(e?.id))&&e?.refresh()}))},An.destroy=function(e){const t=it(this,e);t?.forEach((e=>{e?.destroy()}))},An.getI13N=function(e){const{axid:t,...i}=this.i13nStore.getCurrent();if(void 0===e)return i;if(!Array.isArray(e)||0===e.length)return;const n={};return e.forEach((e=>{"string"==typeof e&&void 0!==i[e]&&(n[e]=i[e])})),n},An.updateI13N=function(e,t=[]){if(!e||"object"!=typeof e)return;const i=this.i13nStore.getKeyDifferences(e);(Object.keys(i).length||t.length)&&function(e,t,i){const{gpt:n,hbc:s,taboola:o}=e,r={};let a;t&&t.url&&(a=t.url,n.setPageUrl(a)),Ht(Le,t,r),i&&i.length&&"string"!=typeof i&&(i?.forEach((e=>{n.clearTargeting(e)})),e.i13nStore.clearKeysFromCurrent(i));const c=rt(r,ke);if(Object.keys(c).length>0&&(n.setTargeting(c),e.i13nStore.updateCurrent(c),s.activated&&n.getTargetings(le,(e=>{s.sendMnetKvs(e,{...c,url:a})})),o&&o.pageType)){const e=ut(c,o.axid);if(o.sendPublisherBlob(e),t.pt&&Pe.hasOwnProperty(t.pt)){const e=t.pt;o.updateTaboolaPageConfig(Pe[e],P)}}}(this,i,t)},An.getConsent=function(e,t){return vn(t,e)},An.isReady=!1;const wn=An;!function(){if(e){const t=e.benji?.config&&Object.assign({},e.benji?.config);e.benji=wn,t&&e.benji.start(t),(e=>{const t=new CustomEvent(ce.benjiMounted);e.dispatchEvent(t)})(e)}}()}();
//# sourceMappingURL=benji-2.1.29.js.map
